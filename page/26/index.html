<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>CitruXonve&#039;s another far end</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="CitruXonve&#039;s another far end"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="CitruXonve&#039;s another far end"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="CitruXonve&#039;s another far end"><meta property="og:url" content="https://devblog.citruxonve.net/"><meta property="og:site_name" content="CitruXonve&#039;s another far end"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://devblog.citruxonve.net/img/og_image.png"><meta property="article:author" content="CitruXonve"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="https://devblog.citruxonve.net/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://devblog.citruxonve.net"},"headline":"CitruXonve's another far end","image":["https://devblog.citruxonve.net/img/og_image.png"],"author":{"@type":"Person","name":"CitruXonve"},"publisher":{"@type":"Organization","name":"CitruXonve's another far end","logo":{"@type":"ImageObject","url":"https://devblog.citruxonve.net/img/logo.svg"}},"description":null}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link data-pjax rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.7.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link data-pjax rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="CitruXonve&#039;s another far end" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">CrXon Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Icarus Theme on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2015-05-10T11:45:11.000Z" title="5/10/2015, 11:45:11 AM">05/10/2015</time></span><span class="level-item">Updated&nbsp;<time dateTime="2025-12-16T07:00:45.822Z" title="12/16/2025, 7:00:45 AM">12/16/2025</time></span><span class="level-item"> Semprathlon / Simfae Dean </span><span class="level-item"><a class="link-muted" href="/categories/ACM-ICPC/">ACM-ICPC</a><span> / </span><a class="link-muted" href="/categories/ACM-ICPC/Programing/">Programing</a></span><span class="level-item">a minute read (About 207 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/posts/5a902148/">【HDU 3037】大数组合取模之Lucas定理</a></p><div class="content"><p><a target="_blank" rel="noopener" href="http://www.cnblogs.com/kane0526/archive/2012/12/16/2820789.html">原文地址</a></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> lld;</span><br><span class="line">lld  n, m, p;</span><br><span class="line"></span><br><span class="line"><span class="function">lld <span class="title">Ext_gcd</span><span class="params">(lld a,lld b,lld &amp;x,lld &amp;y)</span></span>&#123;</span><br><span class="line">   <span class="keyword">if</span>(b==<span class="number">0</span>) &#123; x=<span class="number">1</span>, y=<span class="number">0</span>; <span class="keyword">return</span> a; &#125;</span><br><span class="line">   lld ret= <span class="built_in">Ext_gcd</span>(b,a%b,y,x);</span><br><span class="line">   y-= a/b*x;</span><br><span class="line">   <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">lld <span class="title">Inv</span><span class="params">(lld a,<span class="type">int</span> m)</span></span>&#123;   <span class="comment">///求逆元</span></span><br><span class="line">   lld d,x,y,t= (lld)m;</span><br><span class="line">   d= <span class="built_in">Ext_gcd</span>(a,t,x,y);</span><br><span class="line">   <span class="keyword">if</span>(d==<span class="number">1</span>) <span class="keyword">return</span> (x%t+t)%t;</span><br><span class="line">   <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">lld <span class="title">Cm</span><span class="params">(lld n, lld m, lld p)</span>  <span class="comment">///组合数学</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    lld a=<span class="number">1</span>, b=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(m&gt;n) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(m)</span><br><span class="line">    &#123;</span><br><span class="line">        a=(a*n)%p;</span><br><span class="line">        b=(b*m)%p;</span><br><span class="line">        m--;</span><br><span class="line">        n--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (lld)a*<span class="built_in">Inv</span>(b,p)%p;  <span class="comment">///（a/b）%p 等价于 a*（b，p）的逆元</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Lucas</span><span class="params">(lld n, lld m, lld p)</span>  <span class="comment">///把n分段递归求解相乘</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(m==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> (lld)<span class="built_in">Cm</span>(n%p,m%p,p)*(lld)<span class="built_in">Lucas</span>(n/p,m/p,p)%p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span>  T;</span><br><span class="line">    cin &gt;&gt; T;</span><br><span class="line">    <span class="keyword">while</span>(T--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%lld%lld%lld&quot;</span>,&amp;n,&amp;m,&amp;p);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,<span class="built_in">Lucas</span>(n+m,m,p));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2015-05-10T11:30:57.000Z" title="5/10/2015, 11:30:57 AM">05/10/2015</time></span><span class="level-item">Updated&nbsp;<time dateTime="2025-12-16T07:00:45.822Z" title="12/16/2025, 7:00:45 AM">12/16/2025</time></span><span class="level-item"> Semprathlon / Simfae Dean </span><span class="level-item"><a class="link-muted" href="/categories/ACM-ICPC/">ACM-ICPC</a><span> / </span><a class="link-muted" href="/categories/ACM-ICPC/Programing/">Programing</a></span><span class="level-item">a minute read (About 136 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/posts/319c19f0/">【模板】各种欧几里得</a></p><div class="content"><p><a target="_blank" rel="noopener" href="http://blog.csdn.net/libin56842/article/details/9364231">原文地址</a>   </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">gcd</span><span class="params">(<span class="type">int</span> n,<span class="type">int</span> m)</span><span class="comment">//n&gt;m</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//最大公约数</span></span><br><span class="line">    <span class="type">int</span> r;</span><br><span class="line">    <span class="keyword">while</span>(m)</span><br><span class="line">    &#123;</span><br><span class="line">        r = n%m;</span><br><span class="line">        n = m;</span><br><span class="line">        m = r;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> n;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">kgcd</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!a) <span class="keyword">return</span> b;</span><br><span class="line">    <span class="keyword">if</span>(!b) <span class="keyword">return</span> a;</span><br><span class="line">    <span class="keyword">if</span>(!(a&amp;<span class="number">1</span>) &amp;&amp; !(b&amp;<span class="number">1</span>))</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">kgcd</span>(a&gt;&gt;<span class="number">1</span>,b&gt;&gt;<span class="number">1</span>)&lt;&lt;<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(!(b&amp;<span class="number">1</span>)) <span class="keyword">return</span> <span class="built_in">kgcd</span>(a,b&gt;&gt;<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(!(a&amp;<span class="number">1</span>)) <span class="keyword">return</span> <span class="built_in">kgcd</span>(a&gt;&gt;<span class="number">1</span>,b);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="built_in">kgcd</span>(<span class="built_in">abs</span>(a-b),<span class="built_in">min</span>(a,b));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//扩展欧几里得</span></span><br><span class="line"><span class="comment">//求方程ax+by+c = 0有多少整数解</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">extgcd</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b,<span class="type">int</span> &amp;x,<span class="type">int</span> &amp;y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!b)</span><br><span class="line">    &#123;</span><br><span class="line">        x=<span class="number">1</span>;</span><br><span class="line">        y=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> d = <span class="built_in">extgcd</span>(b,a%b,x,y);</span><br><span class="line">    <span class="type">int</span> t = x;</span><br><span class="line">    x=y;</span><br><span class="line">    y=t-a/b*y;</span><br><span class="line">    <span class="keyword">return</span> d;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2015-05-10T10:54:20.000Z" title="5/10/2015, 10:54:20 AM">05/10/2015</time></span><span class="level-item">Updated&nbsp;<time dateTime="2025-12-16T07:00:45.822Z" title="12/16/2025, 7:00:45 AM">12/16/2025</time></span><span class="level-item"> Semprathlon / Simfae Dean </span><span class="level-item">2 minutes read (About 316 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/posts/c572affa/">PHP Markdown &amp; LaTex test</a></p><div class="content"><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<p>&lt;https: &#x2F;&#x2F;daringfireball.net&#x2F;projects&#x2F;markdown&#x2F;syntax&gt;<br><a target="_blank" rel="noopener" href="https://daringfireball.net/projects/markdown/syntax">The full documentation of Markdown’s syntax</a>  </p>
<p>|Hash函数|数据1|数据2|数据3|数据4|数据1得分|数据2得分|数据3得分|数据4得分|平均分| |—-|—-|—-|—-|—-|—-|—-|—-|—-|—-| |BKDRHash|2|0|4774|481|96.55|100|90.95|82.05|92.64| |APHash|2|3|4754|493|96.55|88.46|100|51.28|86.28| |DJBHash|2|2|4975|474|96.55|92.31|0|100|83.43| |JSHash|1|4|4761|506|100|84.62|96.83|17.95|81.94| |RSHash|1|0|4861|505|100|100|51.58|20.51|75.96| |SDBMHash|3|2|4849|504|93.1|92.31|57.01|23.08|72.41| |PJWHash|30|26|4878|513|0|0|43.89|0|21.95| |ELFHash|30|26|4878|513|0|0|43.89|0|21.95| </p>
<h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h2><p>Tom was on the way home from school. He saw a matrix in the sky. He found that if we numbered rows and columns of the matrix from 0, then, $ {a} _ {i,j}&#x3D;{C} _ {i}^{j}$<br>if i &lt; j, $ {a}_{i,j}&#x3D;0$<br>Tom suddenly had an idea. He wanted to know the sum of the numbers in some rectangles. Tom needed to go home quickly, so he wouldn’t solve this problem by himself. Now he wants you to help him.<br />Because the number may be very large, output the answer to the problem modulo a prime p.</p>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>Multi test cases(about 8). Each case occupies only one line, contains five integers, $ x_{1}、y_{1}、x_{2}、y_{2}、p.<br />x_{1}\leq x_{2}\leq {10}^{5},y_{1}\leq y_{2}\leq {10}^{5},2\leq p\leq {10}^{9}$ .</p>
<blockquote>
<p>###Latex公式测试<br>行内公式 $ \delta &#x3D; \beta &#x2F; (\alpha + 1) $<br>行间公式<br>$$<br>\frac{O}{I}  \approx \frac{A}{1+AF}<br>$$</p>
</blockquote>
<p> $$ 上下标 U_o &#x3D; A^2 * ( U_+ - U_- ) $$<br> $$ 上下标 (U_o &#x3D; A^2 * ( U_+ - U_- )) $$<br> $$ 上下标 [U_o &#x3D; A^2 * ( U_+ - U_- )] $$ </p>
<p>积分<br> $ \int_1 ^2 sin x dx $ </p>
<p>方程组<br>$$<br>\begin{aligned}<br>\dot{x} &amp; &#x3D; \sigma(y-x) \newline<br>\dot{y} &amp; &#x3D; \rho x - y - xz \newline<br>\dot{z} &amp; &#x3D; -\beta z + xy<br>\end{aligned}<br>$$ </p>
<p>$$<br>\begin{eqnarray}<br>&amp;&amp; \frac{\partial  x}{\partial C_{ikj}}   \<br>&amp;&amp; \frac{\partial C_{ikj}}{\partial R_{ik}} \<br>&amp;&amp; \frac{\partial C_{ikj}}{\partial R_{jk}}\<br>&amp;&amp; a &#x3D; R_{ik}^2-R_{jk}^2 , b &#x3D; (R_{ij}^4-a^2)^2<br>\end{eqnarray}<br>$$</p>
<p>$$<br>\left{ \Sigma&#x3D; { (\theta,\varphi)|0\le \theta \le 2\pi,0\le \varphi \le\frac{\pi}{2} \right}<br>$$  </p>
<p><a href="/2015/05/Dashboard.png"><img src="/2015/05/Dashboard.png" alt="Dashboard"></a></https:></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2015-05-09T18:09:52.000Z" title="5/9/2015, 6:09:52 PM">05/09/2015</time></span><span class="level-item">Updated&nbsp;<time dateTime="2025-12-16T07:00:45.822Z" title="12/16/2025, 7:00:45 AM">12/16/2025</time></span><span class="level-item"> Semprathlon / Simfae Dean </span><span class="level-item"><a class="link-muted" href="/categories/ACM-ICPC/">ACM-ICPC</a><span> / </span><a class="link-muted" href="/categories/ACM-ICPC/Programing/">Programing</a></span><span class="level-item">7 minutes read (About 1120 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/posts/4f35b530/">2013ACM-ICPC杭州赛区全国邀请赛</a></p><div class="content"><h1 id="Transformation（HDU-4578）"><a href="#Transformation（HDU-4578）" class="headerlink" title="Transformation（HDU 4578）"></a>Transformation（HDU 4578）</h1><blockquote>
<blockquote>
<p>Time Limit: 15000&#x2F;8000 MS (Java&#x2F;Others)    Memory Limit: 65535&#x2F;65536 K (Java&#x2F;Others)</p>
</blockquote>
</blockquote>
<h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h2><p>Yuanfang is puzzled with the question below:<br>There are n integers, a1, a2, …, an. The initial values of them are 0. There are four kinds of operations.<br>Operation 1: Add c to each number between ax and ay inclusive. In other words, do transformation ak&lt;—ak+c, k &#x3D; x,x+1,…,y.<br>Operation 2: Multiply c to each number between ax and ay inclusive. In other words, do transformation ak&lt;—ak×c, k &#x3D; x,x+1,…,y.<br>Operation 3: Change the numbers between ax and ay to c, inclusive. In other words, do transformation ak&lt;—c, k &#x3D; x,x+1,…,y.<br>Operation 4: Get the sum of p power among the numbers between ax and ay inclusive. In other words, get the result of axp+ax+1p+…+ay p.<br>Yuanfang has no idea of how to do it. So he wants to ask you to help him.    </p>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>There are no more than 10 test cases.<br>For each case, the first line contains two numbers n and m, meaning that there are n integers and m operations. 1 &lt;&#x3D; n, m &lt;&#x3D; 100,000.<br>Each the following m lines contains an operation. Operation 1 to 3 is in this format: “1 x y c” or “2 x y c” or “3 x y c”. Operation 4 is in this format: “4 x y p”. (1 &lt;&#x3D; x &lt;&#x3D; y &lt;&#x3D; n, 1 &lt;&#x3D; c &lt;&#x3D; 10,000, 1 &lt;&#x3D; p &lt;&#x3D; 3)<br>The input ends with 0 0.   </p>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><p>For each operation 4, output a single integer in one line representing the result. The answer may be quite large. You just need to calculate the remainder of the answer when divided by 10007.</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><p>5 5<br>3 3 5 7<br>1 2 4 4<br>4 1 5 2<br>2 2 5 8<br>4 3 5 3<br>0 0   </p>
<h2 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h2><p>307<br>7489   </p>
<ul>
<li>TLE，不必在每次query时都更新到叶结点</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Node</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> l,r,mid;</span><br><span class="line">    LL v,add,mul;</span><br><span class="line">&#125; SegTree[maxn*<span class="number">4</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">build</span><span class="params">(<span class="type">int</span> rt,<span class="type">int</span> l,<span class="type">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    SegTree[rt].l=l;SegTree[rt].r=r;</span><br><span class="line">    SegTree[rt].mid=(l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">    SegTree[rt].add=SegTree[rt].v=<span class="number">0</span>;</span><br><span class="line">    SegTree[rt].mul=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (l&lt;r)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">build</span>(rt&lt;&lt;<span class="number">1</span>,l,SegTree[rt].mid);</span><br><span class="line">        <span class="built_in">build</span>(rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>,SegTree[rt].mid<span class="number">+1</span>,r);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> rt,<span class="type">int</span> x,<span class="type">int</span> y,<span class="type">int</span> num)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> &amp;l=SegTree[rt].l,&amp;r=SegTree[rt].r,&amp;mid=SegTree[rt].mid;</span><br><span class="line">    <span class="keyword">if</span> (x&gt;y) <span class="keyword">return</span>;</span><br><span class="line">    <span class="comment">//cout&lt;&lt;&quot;+ &quot;&lt;&lt;rt&lt;&lt;&#x27; &#x27;&lt;&lt;l&lt;&lt;&#x27; &#x27;&lt;&lt;r&lt;&lt;&#x27; &#x27;&lt;&lt;mid&lt;&lt;&quot;  &quot;&lt;&lt;x&lt;&lt;&#x27; &#x27;&lt;&lt;y&lt;&lt;&#x27; &#x27;&lt;&lt;num&lt;&lt;endl;</span></span><br><span class="line">    <span class="keyword">if</span> (x&lt;=SegTree[rt].l&amp;&amp;SegTree[rt].r&lt;=y)</span><br><span class="line">    &#123;</span><br><span class="line">        SegTree[rt].add+=num;</span><br><span class="line">        SegTree[rt].add%=mod;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> tmp=SegTree[rt].add;</span><br><span class="line">    <span class="keyword">if</span> (SegTree[rt].add)</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        SegTree[rt].add=<span class="number">0</span>;</span><br><span class="line">        <span class="built_in">add</span>(rt,SegTree[rt].l,x<span class="number">-1</span>,tmp);</span><br><span class="line">        <span class="built_in">add</span>(rt,y<span class="number">+1</span>,SegTree[rt].r,tmp);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (x&lt;=mid) <span class="built_in">add</span>(rt&lt;&lt;<span class="number">1</span>,x,<span class="built_in">min</span>(mid,y),tmp+num);</span><br><span class="line">    <span class="keyword">if</span> (y&gt;mid) <span class="built_in">add</span>(rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>,<span class="built_in">max</span>(mid<span class="number">+1</span>,x),y,tmp+num);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">mul</span><span class="params">(<span class="type">int</span> rt,<span class="type">int</span> x,<span class="type">int</span> y,<span class="type">int</span> num)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> &amp;l=SegTree[rt].l,&amp;r=SegTree[rt].r,&amp;mid=SegTree[rt].mid;</span><br><span class="line">    <span class="keyword">if</span> (x&gt;y) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span> (x&lt;=SegTree[rt].l&amp;&amp;SegTree[rt].r&lt;=y)</span><br><span class="line">    &#123;</span><br><span class="line">        SegTree[rt].mul*=num;SegTree[rt].mul%=mod;</span><br><span class="line">        SegTree[rt].add*=num;SegTree[rt].add%=mod;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> tmp=SegTree[rt].mul;</span><br><span class="line">    <span class="keyword">if</span> (SegTree[rt].mul!=<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        SegTree[rt].mul=<span class="number">1</span>;</span><br><span class="line">        <span class="built_in">add</span>(rt,SegTree[rt].l,x<span class="number">-1</span>,SegTree[rt].add*tmp);</span><br><span class="line">        <span class="built_in">mul</span>(rt,SegTree[rt].l,x<span class="number">-1</span>,tmp);</span><br><span class="line">        <span class="built_in">add</span>(rt,x,y,SegTree[rt].add*tmp*num);</span><br><span class="line">        <span class="built_in">add</span>(rt,y<span class="number">+1</span>,SegTree[rt].r,SegTree[rt].add*tmp);</span><br><span class="line">        <span class="built_in">mul</span>(rt,y<span class="number">+1</span>,SegTree[rt].r,tmp);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (x&lt;=mid) <span class="built_in">mul</span>(rt&lt;&lt;<span class="number">1</span>,x,<span class="built_in">min</span>(mid,y),tmp*num);</span><br><span class="line">    <span class="keyword">if</span> (y&gt;mid) <span class="built_in">mul</span>(rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>,<span class="built_in">max</span>(mid<span class="number">+1</span>,x),y,tmp*num);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">cover</span><span class="params">(<span class="type">int</span> rt,<span class="type">int</span> x,<span class="type">int</span> y,<span class="type">int</span> num)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> &amp;l=SegTree[rt].l,&amp;r=SegTree[rt].r,&amp;mid=SegTree[rt].mid;</span><br><span class="line">    <span class="keyword">if</span> (x&gt;y) <span class="keyword">return</span>;</span><br><span class="line">    <span class="comment">//cout&lt;&lt;&quot;c &quot;&lt;&lt;rt&lt;&lt;&#x27; &#x27;&lt;&lt;l&lt;&lt;&#x27; &#x27;&lt;&lt;r&lt;&lt;&#x27; &#x27;&lt;&lt;mid&lt;&lt;&quot;  &quot;&lt;&lt;x&lt;&lt;&#x27; &#x27;&lt;&lt;y&lt;&lt;&#x27; &#x27;&lt;&lt;num&lt;&lt;endl;</span></span><br><span class="line">    <span class="keyword">if</span> (x&lt;=SegTree[rt].l&amp;&amp;SegTree[rt].r&lt;=y)</span><br><span class="line">    &#123;</span><br><span class="line">        SegTree[rt].v=num;</span><br><span class="line">        SegTree[rt].add=<span class="number">0</span>;</span><br><span class="line">        SegTree[rt].mul=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (SegTree[rt].add)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> tmp=SegTree[rt].add;</span><br><span class="line">        SegTree[rt].add=<span class="number">0</span>;</span><br><span class="line">        <span class="built_in">add</span>(rt,SegTree[rt].l,x<span class="number">-1</span>,tmp);</span><br><span class="line">        <span class="built_in">add</span>(rt,y<span class="number">+1</span>,SegTree[rt].r,tmp);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (SegTree[rt].mul!=<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> tmp=SegTree[rt].mul;</span><br><span class="line">        SegTree[rt].mul=<span class="number">1</span>;</span><br><span class="line">        <span class="built_in">mul</span>(rt,SegTree[rt].l,x<span class="number">-1</span>,tmp);</span><br><span class="line">        <span class="built_in">mul</span>(rt,y<span class="number">+1</span>,SegTree[rt].r,tmp);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (x&lt;=mid) <span class="built_in">cover</span>(rt&lt;&lt;<span class="number">1</span>,x,<span class="built_in">min</span>(mid,y),num);</span><br><span class="line">    <span class="keyword">if</span> (y&gt;mid) <span class="built_in">cover</span>(rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>,<span class="built_in">max</span>(mid<span class="number">+1</span>,x),y,num);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">LL <span class="title">query</span><span class="params">(<span class="type">int</span> rt,<span class="type">int</span> x,<span class="type">int</span> y,<span class="type">int</span> p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> &amp;l=SegTree[rt].l,&amp;r=SegTree[rt].r,&amp;mid=SegTree[rt].mid;</span><br><span class="line">    <span class="comment">//cout&lt;&lt;&quot;q &quot;&lt;&lt;rt&lt;&lt;&#x27; &#x27;&lt;&lt;l&lt;&lt;&#x27; &#x27;&lt;&lt;r&lt;&lt;&#x27; &#x27;&lt;&lt;mid&lt;&lt;&quot;  &quot;&lt;&lt;SegTree[rt].v&lt;&lt;&#x27; &#x27;&lt;&lt;SegTree[rt].add&lt;&lt;&#x27; &#x27;&lt;&lt;SegTree[rt].mul&lt;&lt;endl; //&lt;&lt;&quot;  &quot;&lt;&lt;x&lt;&lt;&#x27; &#x27;&lt;&lt;y&lt;&lt;&#x27; &#x27;&lt;&lt;endl;</span></span><br><span class="line">    <span class="keyword">if</span> (SegTree[rt].l==SegTree[rt].r)</span><br><span class="line">    <span class="comment">//if (SegTree[rt].v)</span></span><br><span class="line">    &#123;</span><br><span class="line">        SegTree[rt].v*=SegTree[rt].mul;SegTree[rt].v%=mod;</span><br><span class="line">        SegTree[rt].v+=SegTree[rt].add;SegTree[rt].v%=mod;</span><br><span class="line">        SegTree[rt].add=<span class="number">0</span>;</span><br><span class="line">        SegTree[rt].mul=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">switch</span>(p)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>:<span class="keyword">return</span> SegTree[rt].v;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">2</span>:<span class="keyword">return</span> SegTree[rt].v*SegTree[rt].v%mod;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">3</span>:<span class="keyword">return</span> SegTree[rt].v*SegTree[rt].v*SegTree[rt].v%mod;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (SegTree[rt].v)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">add</span>(rt&lt;&lt;<span class="number">1</span>,l,mid,SegTree[rt].v*SegTree[rt].mul+SegTree[rt].add);</span><br><span class="line">        <span class="built_in">add</span>(rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>,mid<span class="number">+1</span>,r,SegTree[rt].v*SegTree[rt].mul+SegTree[rt].add);</span><br><span class="line">        SegTree[rt].v=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (SegTree[rt].add)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//puts(&quot;update&quot;);</span></span><br><span class="line">        <span class="built_in">add</span>(rt&lt;&lt;<span class="number">1</span>,l,mid,SegTree[rt].add);</span><br><span class="line">        <span class="built_in">add</span>(rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>,mid<span class="number">+1</span>,r,SegTree[rt].add);</span><br><span class="line">        SegTree[rt].add=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (SegTree[rt].mul!=<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">mul</span>(rt&lt;&lt;<span class="number">1</span>,l,mid,SegTree[rt].mul);</span><br><span class="line">        <span class="built_in">mul</span>(rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>,mid<span class="number">+1</span>,r,SegTree[rt].mul);</span><br><span class="line">        SegTree[rt].mul=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (((x&lt;=mid)?<span class="built_in">query</span>(rt&lt;&lt;<span class="number">1</span>,x,<span class="built_in">min</span>(mid,y),p):<span class="number">0</span>)+((y&gt;mid)?<span class="built_in">query</span>(rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>,<span class="built_in">max</span>(mid<span class="number">+1</span>,x),y,p):<span class="number">0</span>))%mod;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">LL <span class="title">fnd</span><span class="params">(<span class="type">int</span> rt,<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(SegTree[rt].l==SegTree[rt].r) <span class="keyword">return</span> SegTree[rt].v;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (x&lt;=SegTree[rt].mid) <span class="keyword">return</span> <span class="built_in">fnd</span>(rt&lt;&lt;<span class="number">1</span>,x);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="built_in">fnd</span>(rt&lt;&lt;<span class="number">1</span>|<span class="number">1</span>,x);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n,m;</span><br><span class="line">    <span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;m))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (!n&amp;&amp;!m) <span class="keyword">break</span>;</span><br><span class="line">        <span class="built_in">build</span>(<span class="number">1</span>,<span class="number">1</span>,n);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> op,x,y,c;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d%d&quot;</span>,&amp;op,&amp;x,&amp;y,&amp;c);</span><br><span class="line">            <span class="keyword">switch</span>(op)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                    <span class="built_in">add</span>(<span class="number">1</span>,x,y,c);<span class="comment">//query(1,x,y,1);</span></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                    <span class="built_in">mul</span>(<span class="number">1</span>,x,y,c);<span class="comment">//query(1,x,y,1);</span></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">                    <span class="built_in">cover</span>(<span class="number">1</span>,x,y,c);<span class="comment">//query(1,x,y,1);</span></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">&quot;%I64d\n&quot;</span>,<span class="built_in">query</span>(<span class="number">1</span>,x,y,c));</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//for(int i=1;i&lt;=n;i++) printf(&quot;%lld &quot;,fnd(1,i));printf(&quot;\n&quot;);</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>AC 4882MS</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> CLEAR(a) memset((a),0,sizeof((a)))</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> LL;</span><br><span class="line"><span class="type">const</span> <span class="type">double</span> pi = <span class="built_in">acos</span>(<span class="number">-1.0</span>);</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> inf = <span class="number">99999999</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">double</span> eps = <span class="number">1e-3</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mod = <span class="number">10007</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Node</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> l, r, mid;</span><br><span class="line">    LL v, add, mul;</span><br><span class="line">    <span class="type">bool</span> up;</span><br><span class="line">&#125; SegTree[maxn * <span class="number">4</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">build</span><span class="params">(<span class="type">int</span> rt, <span class="type">int</span> l, <span class="type">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    SegTree[rt].l = l;</span><br><span class="line">    SegTree[rt].r = r;</span><br><span class="line">    SegTree[rt].mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    SegTree[rt].add = SegTree[rt].v = <span class="number">0</span>;</span><br><span class="line">    SegTree[rt].mul = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (l &lt; r)</span><br><span class="line">    &#123;</span><br><span class="line">        SegTree[rt].up = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">build</span>(rt &lt;&lt; <span class="number">1</span>, l, SegTree[rt].mid);</span><br><span class="line">        <span class="built_in">build</span>(rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>, SegTree[rt].mid + <span class="number">1</span>, r);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        SegTree[rt].up = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">pushdown</span><span class="params">(<span class="type">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> mid = SegTree[rt].mid;</span><br><span class="line">    <span class="keyword">if</span> (SegTree[rt].up)</span><br><span class="line">    &#123;</span><br><span class="line">        SegTree[rt &lt;&lt; <span class="number">1</span>].add = SegTree[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].add = <span class="number">0</span>;</span><br><span class="line">        SegTree[rt &lt;&lt; <span class="number">1</span>].mul = SegTree[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].mul = <span class="number">1</span>;</span><br><span class="line">        SegTree[rt &lt;&lt; <span class="number">1</span>].v = SegTree[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].v = SegTree[rt].v;</span><br><span class="line">        SegTree[rt &lt;&lt; <span class="number">1</span>].up = SegTree[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].up = <span class="number">1</span>;</span><br><span class="line">        SegTree[rt].up = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (SegTree[rt].add)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (SegTree[rt &lt;&lt; <span class="number">1</span>].up)</span><br><span class="line">            &#123;</span><br><span class="line">                SegTree[rt &lt;&lt; <span class="number">1</span>].v += SegTree[rt].add;</span><br><span class="line">                SegTree[rt &lt;&lt; <span class="number">1</span>].v %= mod;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">pushdown</span>(rt &lt;&lt; <span class="number">1</span>);</span><br><span class="line">                SegTree[rt &lt;&lt; <span class="number">1</span>].add += SegTree[rt].add;</span><br><span class="line">                SegTree[rt &lt;&lt; <span class="number">1</span>].add %= mod;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (SegTree[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].up)</span><br><span class="line">            &#123;</span><br><span class="line">                SegTree[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].v += SegTree[rt].add;</span><br><span class="line">                SegTree[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].v %= mod;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">pushdown</span>(rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>);</span><br><span class="line">                SegTree[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].add += SegTree[rt].add;</span><br><span class="line">                SegTree[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].add %= mod;</span><br><span class="line">            &#125;</span><br><span class="line">            SegTree[rt].add = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (SegTree[rt].mul != <span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (SegTree[rt &lt;&lt; <span class="number">1</span>].up)</span><br><span class="line">            &#123;</span><br><span class="line">                SegTree[rt &lt;&lt; <span class="number">1</span>].v *= SegTree[rt].mul;</span><br><span class="line">                SegTree[rt &lt;&lt; <span class="number">1</span>].v %= mod;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">pushdown</span>(rt &lt;&lt; <span class="number">1</span>);</span><br><span class="line">                SegTree[rt &lt;&lt; <span class="number">1</span>].mul *= SegTree[rt].mul;</span><br><span class="line">                SegTree[rt &lt;&lt; <span class="number">1</span>].mul %= mod;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (SegTree[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].up)</span><br><span class="line">            &#123;</span><br><span class="line">                SegTree[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].v *= SegTree[rt].mul;</span><br><span class="line">                SegTree[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].v %= mod;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">pushdown</span>(rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>);</span><br><span class="line">                SegTree[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].mul *= SegTree[rt].mul;</span><br><span class="line">                SegTree[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].mul %= mod;</span><br><span class="line">            &#125;</span><br><span class="line">            SegTree[rt].mul = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">update</span><span class="params">(<span class="type">int</span> rt, <span class="type">int</span> x, <span class="type">int</span> y, LL num,<span class="type">int</span> op)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span>&amp; l = SegTree[rt].l, &amp;r = SegTree[rt].r, &amp;mid = SegTree[rt].mid;</span><br><span class="line">    <span class="comment">//cout&lt;&lt;&quot;+ &quot;&lt;&lt;rt&lt;&lt;&#x27; &#x27;&lt;&lt;l&lt;&lt;&#x27; &#x27;&lt;&lt;r&lt;&lt;&#x27; &#x27;&lt;&lt;mid&lt;&lt;&quot;  &quot;&lt;&lt;x&lt;&lt;&#x27; &#x27;&lt;&lt;y&lt;&lt;&#x27; &#x27;&lt;&lt;num&lt;&lt;endl;</span></span><br><span class="line">    <span class="keyword">if</span> (x &lt;= SegTree[rt].l &amp;&amp; SegTree[rt].r &lt;= y)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (op==<span class="number">3</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            SegTree[rt].add=<span class="number">0</span>;</span><br><span class="line">            SegTree[rt].mul=<span class="number">1</span>;</span><br><span class="line">            SegTree[rt].v=num;</span><br><span class="line">            SegTree[rt].up=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (SegTree[rt].up)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (op==<span class="number">1</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    SegTree[rt].v+=num;SegTree[rt].v%=mod;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    SegTree[rt].v*=num;SegTree[rt].v%=mod;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">pushdown</span>(rt);</span><br><span class="line">                <span class="keyword">if</span> (op==<span class="number">1</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    SegTree[rt].add+=num;SegTree[rt].add%=mod;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    SegTree[rt].mul*=num;SegTree[rt].mul%=mod;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">pushdown</span>(rt);</span><br><span class="line">    <span class="keyword">if</span> (x &lt;= mid)</span><br><span class="line">        <span class="built_in">update</span>(rt &lt;&lt; <span class="number">1</span>, x, <span class="built_in">min</span>(mid, y), num,op);</span><br><span class="line">    <span class="keyword">if</span> (y &gt; mid)</span><br><span class="line">        <span class="built_in">update</span>(rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>, <span class="built_in">max</span>(mid + <span class="number">1</span>, x), y, num,op);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">LL <span class="title">query</span><span class="params">(<span class="type">int</span> rt, <span class="type">int</span> x, <span class="type">int</span> y, <span class="type">int</span> p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span>&amp; l = SegTree[rt].l, &amp;r = SegTree[rt].r, &amp;mid = SegTree[rt].mid;</span><br><span class="line">    <span class="comment">//cout&lt;&lt;&quot;q &quot;&lt;&lt;rt&lt;&lt;&#x27; &#x27;&lt;&lt;l&lt;&lt;&#x27; &#x27;&lt;&lt;r&lt;&lt;&#x27; &#x27;&lt;&lt;mid&lt;&lt;&quot;  &quot;&lt;&lt;SegTree[rt].v&lt;&lt;&#x27; &#x27;&lt;&lt;SegTree[rt].add&lt;&lt;&#x27; &#x27;&lt;&lt;SegTree[rt].mul&lt;&lt;endl; //&lt;&lt;&quot;  &quot;&lt;&lt;x&lt;&lt;&#x27; &#x27;&lt;&lt;y&lt;&lt;&#x27; &#x27;&lt;&lt;endl;</span></span><br><span class="line">    <span class="keyword">if</span> (x &lt;= SegTree[rt].l &amp;&amp; SegTree[rt].r &lt;= y&amp;&amp;SegTree[rt].up)</span><br><span class="line">    &#123;</span><br><span class="line">        LL tmp=<span class="built_in">LL</span>(r-l<span class="number">+1</span>)%mod;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=p;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            tmp*=SegTree[rt].v;tmp%=mod;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> tmp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">pushdown</span>(rt);</span><br><span class="line">    <span class="keyword">return</span> (((x &lt;= mid) ? <span class="built_in">query</span>(rt &lt;&lt; <span class="number">1</span>, x, <span class="built_in">min</span>(mid, y), p) : <span class="number">0LL</span>) + ((y &gt; mid) ? <span class="built_in">query</span>(rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>, <span class="built_in">max</span>(mid + <span class="number">1</span>, x), y, p) : <span class="number">0LL</span>)) % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">LL <span class="title">fnd</span><span class="params">(<span class="type">int</span> rt, <span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (SegTree[rt].l == SegTree[rt].r)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> SegTree[rt].v;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (x &lt;= SegTree[rt].mid)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">fnd</span>(rt &lt;&lt; <span class="number">1</span>, x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">fnd</span>(rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>, x);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n, m;</span><br><span class="line">    <span class="keyword">while</span> (~<span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;n, &amp;m))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (!n &amp;&amp; !m)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">build</span>(<span class="number">1</span>, <span class="number">1</span>, n);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= m; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> op, x, y;</span><br><span class="line">            LL c;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d%I64d&quot;</span>, &amp;op, &amp;x, &amp;y, &amp;c);</span><br><span class="line">            <span class="keyword">switch</span> (op)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">                    <span class="built_in">update</span>(<span class="number">1</span>, x, y, c,op); <span class="comment">//query(1,x,y,1);</span></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">&quot;%I64d\n&quot;</span>, <span class="built_in">query</span>(<span class="number">1</span>, x, y, c));</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//for(int i=1;i&lt;=n;i++) printf(&quot;%lld &quot;,fnd(1,i));printf(&quot;\n&quot;);</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2015-05-08T23:50:58.000Z" title="5/8/2015, 11:50:58 PM">05/08/2015</time></span><span class="level-item">Updated&nbsp;<time dateTime="2025-12-16T07:00:45.822Z" title="12/16/2025, 7:00:45 AM">12/16/2025</time></span><span class="level-item"> Semprathlon / Simfae Dean </span><span class="level-item"><a class="link-muted" href="/categories/Programing/">Programing</a><span> / </span><a class="link-muted" href="/categories/Programing/ACM-ICPC/">ACM-ICPC</a><span> / </span><a class="link-muted" href="/categories/Programing/ACM-ICPC/Programing/">Programing</a></span><span class="level-item">a few seconds read (About 0 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/posts/a97f9d5e/">2014 Beijing Regional</a></p><div class="content"></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2015-05-08T23:50:58.000Z" title="5/8/2015, 11:50:58 PM">05/08/2015</time></span><span class="level-item">Updated&nbsp;<time dateTime="2025-12-16T07:00:45.822Z" title="12/16/2025, 7:00:45 AM">12/16/2025</time></span><span class="level-item"> Semprathlon / Simfae Dean </span><span class="level-item"><a class="link-muted" href="/categories/ACM-ICPC/">ACM-ICPC</a><span> / </span><a class="link-muted" href="/categories/ACM-ICPC/Programing/">Programing</a></span><span class="level-item">a few seconds read (About 0 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/posts/a97f9d5e/">2014 Beijing Regional</a></p><div class="content"></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2015-05-03T11:19:02.000Z" title="5/3/2015, 11:19:02 AM">05/03/2015</time></span><span class="level-item">Updated&nbsp;<time dateTime="2025-12-16T07:00:45.821Z" title="12/16/2025, 7:00:45 AM">12/16/2025</time></span><span class="level-item"> Semprathlon / Simfae Dean </span><span class="level-item"><a class="link-muted" href="/categories/ACM-ICPC/">ACM-ICPC</a><span> / </span><a class="link-muted" href="/categories/ACM-ICPC/Programing/">Programing</a></span><span class="level-item">9 minutes read (About 1303 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/posts/22611353/">ACM - ICPC Regionals 2014 Bangkok 亚洲区域赛 国外某数学题</a></p><div class="content"><h1 id="ACM-ICPC-Live-Archive-Regionals-2014-Asia-Bangkok6844-Combination"><a href="#ACM-ICPC-Live-Archive-Regionals-2014-Asia-Bangkok6844-Combination" class="headerlink" title="ACM-ICPC Live Archive Regionals 2014 &gt;&gt; Asia - Bangkok6844 - Combination   "></a><em>ACM-ICPC Live Archive Regionals 2014 &gt;&gt; Asia - Bangkok</em><br>6844 - Combination   </h1><embed width="100%" height="600" name="plugin" src="https://icpcarchive.ecs.baylor.edu/external/68/6844.pdf" type="application/pdf" internalinstanceid="9"/>   

<p><a target="_blank" rel="noopener" href="https://icpcarchive.ecs.baylor.edu/index.php?option=com_onlinejudge&Itemid=8&category=637&page=show_problem&problem=4856">原题页面</a><br><a target="_blank" rel="noopener" href="https://icpcarchive.ecs.baylor.edu/external/68/6844.pdf">PDF题面</a><br><a target="_blank" rel="noopener" href="http://acm.hust.edu.cn/vjudge/problem/viewProblem.action?id=79610">Vjudge提交地址</a>   </p>
<p><em>艰辛坎坷的探索历程</em>  </p>
<p>设 $ {f(n)&#x3D;C_{n}^{r}(n∈N^{ * },r∈[0,n])} $中奇数的个数。<br>题意是说，求出 $ \sum f(k),k∈[low,high] $<br>庞大的数据， $ n≤16\times{10^{11}}. $  </p>
<h2 id="step1"><a href="#step1" class="headerlink" title="step1 "></a>step1 </h2><p>判断给定 $ n∈N^{ * } $时 $ C_n^r(r∈[0,n]) $的奇偶性。  不难往n,r的二进制表示方向考虑。<br>查阅他人博客获得结论： $ n{ &amp; }r&#x3D;&#x3D;r $时 $ C_n^r $为奇数。  然而本题中无需直接应用这一“定理”，所要做的是统计。<br>拿出纸笔推算发现，若n的二进制表示中有d个1，则 $ C_n^r(r∈[0,n]) $中存在 $ 2^d $个奇数。</p>
<h2 id="step2"><a href="#step2" class="headerlink" title="step2 "></a>step2 </h2><p>研究  $ f(n) $ 的递推关系及通项。  编写暴力程序  $ O(n^2) $ ，打表观察  $ n∈[0,64) $ 时  $ f(n) $ 的取值：<br>   1<br>   2<br>   2    4<br>   2    4    4    8<br>   2    4    4    8    4    8    8   16<br>   2    4    4    8    4    8    8   16    4    8    8   16    8   16   16   32<br>   2    4    4    8    4    8    8   16    4    8    8   16    8   16   16   32    4    8    8   16    8   16   16   32    8   16   16   32   16   32   32   64<br>第一行  $ f(0)&#x3D;1 $ 作为边界条件， 第二行  $ f(1)&#x3D;2 $ ，随后各行的第k行的  $ 2^{k-2} $ 个数分别表示  $ f(2^{k-2}),f(2^{k-2}+1),…,f(2^{k-1}-1) $ 。<br>通过不懈的努力，观察发现从第3行开始，每行的前半部分与前一行完全一致，每行的后半部分的各个f值恰为前半部分对应位置的f值的2倍。</p>
<h2 id="step3"><a href="#step3" class="headerlink" title="step3"></a>step3</h2><p>出于数列直觉，我们尝试求解各行的和构成的数列的递推以及通项。<br>$ a_1&#x3D;1 $<br>$ a_2&#x3D;2 $<br>$ a_3&#x3D;a_2+2\times{a_2}&#x3D;3\times{a_2}&#x3D;6 $<br>…<br>$ a_n&#x3D;a_{n-1}+2\times{a_{n-1}}&#x3D;3\times{a_{n-1}}(n\geq 3) $（递推公式）<br>通项公式:<br>$$<br>\begin{equation} a_n&#x3D; \begin{cases} 1 &amp;\mbox{$n&#x3D;1$}\newline 2 &amp;\mbox{$n&#x3D;2$}\newline 2\times3^{n-2} &amp;\mbox{$n\geq 3$} \end{cases} \end{equation}<br>$$  </p>
<p>$$<br>\begin{equation} S_n&#x3D;\sum\limits_{i&#x3D;1}^{n} {a_i}&#x3D; \begin{cases} 1 &amp;\mbox{$n&#x3D;1$}\newline 3 &amp;\mbox{$n&#x3D;2$}\newline 3+6\times\frac{1-3^{n-2}}{1-3}&#x3D;3+3\times{(3^{n-2}-1)}&#x3D;3^{n-1} &amp;\mbox{$n\geq 3$} \end{cases} \end{equation}<br>$$   </p>
<p>$$<br>S_n&#x3D;3^{n-1}（a_n的前n项和的公式）<br>$$<br>化简后上面这个公式样子够好看了吧？ </p>
<h2 id="step4"><a href="#step4" class="headerlink" title="step4"></a>step4</h2><p>再看一下第2步发现的规律，应用“二分”手段高效地求解，而且真的可以二分求解。<br>具体地说，就是先置求解区间  $ [l,r) $ (左闭右开)的端点于每行的头尾(  $ l&#x3D;2^{i-2},r&#x3D;2^{i-1} $ )，利用上一步所得公式计算该区间的  $ 左端点前缀和U&#x3D;\sum\limits_{k&#x3D;1}^{2^{i-2}} {f(k)} $ 与  $ 右端点前缀和V&#x3D;\sum\limits_{k&#x3D;1}^{2^{i-1}-1} {f(k)} $ 后，不断地对区间折半，总可以确定新区间的左端点前缀和与右端点前缀和。<br>当区间缩至一点时， $ U&#x3D;&#x3D;V&#x3D;&#x3D;f(k) $，即能得到我们所求，而无需计算出[1..n]的每个函数值。</p>
<h2 id="step5"><a href="#step5" class="headerlink" title="step5"></a>step5</h2><p>以上所解决的并不是最终答案，而是前缀和  $ \sum\limits_{k&#x3D;1}^{n} {f(k)} $ ；<br>不过走到这一步已经很好办了， $ ans&#x3D;\sum\limits_{k&#x3D;low}^{high} {f(k)}&#x3D;\sum\limits_{k&#x3D;1}^{high} {f(k)}-\sum\limits_{k&#x3D;1}^{low-1} {f(k)} $  </p>
<p>PS:写完代码后，用极大的n值测试一下，事实上 $ \sum\limits_{k&#x3D;1}^{n} {f(k)} $已经超出了int64的范围。其他的细节不必多说了。</p>
<p>1.319s AC java代码：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @date 2015-05-31</span></span><br><span class="line"><span class="comment"> * @author Semprathlon</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">import</span> java.math.*;</span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="type">static</span> <span class="type">int</span> maxn=<span class="number">42</span>;</span><br><span class="line">    <span class="type">static</span> BigInteger[] sum=<span class="keyword">new</span> BigInteger[maxn];</span><br><span class="line">    <span class="type">static</span> <span class="type">long</span>[] Pow2=<span class="keyword">new</span> <span class="type">long</span>[maxn];</span><br><span class="line">    <span class="keyword">final</span> <span class="type">static</span> BigInteger TWO=BigInteger.<span class="built_in">valueOf</span>(<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">final</span> <span class="type">static</span> BigInteger THREE=BigInteger.<span class="built_in">valueOf</span>(<span class="number">3</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">int</span> <span class="title">found_pow2</span><span class="params">(<span class="type">long</span> n)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (<span class="type">int</span>)(Math.<span class="built_in">log</span>((<span class="type">double</span>)n)/Math.<span class="built_in">log</span>(<span class="number">2.0</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;maxn;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            sum[i]=THREE.<span class="built_in">pow</span>(i);</span><br><span class="line">            Pow2[i]=<span class="number">1L</span>&lt;&lt;i;</span><br><span class="line">        &#125;</span><br><span class="line">            </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">static</span> BigInteger <span class="title">Bisearch</span><span class="params">(<span class="type">long</span> l,<span class="type">long</span> r,BigInteger ls,BigInteger rs,<span class="type">long</span> key)</span></span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(l<span class="number">+1L</span>&lt;r)&#123;</span><br><span class="line">            <span class="type">long</span> mid=(l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(key&lt;mid)&#123;</span><br><span class="line">                r=mid;</span><br><span class="line">                rs=ls.<span class="built_in">add</span>(rs.<span class="built_in">subtract</span>(ls).<span class="built_in">divide</span>(THREE));</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                l=mid;</span><br><span class="line">                ls=ls.<span class="built_in">add</span>(rs.<span class="built_in">subtract</span>(ls).<span class="built_in">divide</span>(THREE));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ls;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">static</span> BigInteger <span class="title">solve</span><span class="params">(<span class="type">long</span> n)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (n&lt;<span class="number">0L</span>) <span class="keyword">return</span> BigInteger.ZERO;</span><br><span class="line">        <span class="keyword">if</span> (n==<span class="number">0L</span>) <span class="keyword">return</span> BigInteger.ONE;</span><br><span class="line">        <span class="type">int</span> k=<span class="built_in">found_pow2</span>(n<span class="number">+1</span>);</span><br><span class="line">        BigInteger ls=sum[k];</span><br><span class="line">        BigInteger rs=sum[k<span class="number">+1</span>];</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Bisearch</span>(Pow2[k],Pow2[k<span class="number">+1</span>],ls,rs,n<span class="number">+1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="type">static</span> <span class="type">void</span> <span class="title">main</span><span class="params">(String[] args)</span> throws IOException</span>&#123;</span><br><span class="line">        <span class="built_in">init</span>();</span><br><span class="line">        StreamTokenizer in = <span class="keyword">new</span> <span class="built_in">StreamTokenizer</span>(<span class="keyword">new</span> <span class="built_in">BufferedReader</span>(<span class="keyword">new</span> <span class="built_in">InputStreamReader</span>(System.in)));</span><br><span class="line">	PrintWriter out = <span class="keyword">new</span> <span class="built_in">PrintWriter</span>(<span class="keyword">new</span> <span class="built_in">OutputStreamWriter</span>(System.out));</span><br><span class="line">        <span class="type">long</span> n=<span class="number">0</span>,m=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(in.<span class="built_in">nextToken</span>() != StreamTokenizer.TT_EOF)&#123;</span><br><span class="line">            n=(<span class="type">long</span>)in.nval;</span><br><span class="line">            in.<span class="built_in">nextToken</span>();</span><br><span class="line">            m=(<span class="type">long</span>)in.nval;</span><br><span class="line">            <span class="keyword">if</span> (n==<span class="number">0L</span>&amp;&amp;m==<span class="number">0L</span>) <span class="keyword">break</span>;</span><br><span class="line">            out.<span class="built_in">println</span>(<span class="built_in">solve</span>(m).<span class="built_in">subtract</span>(<span class="built_in">solve</span>(n<span class="number">-1</span>)));</span><br><span class="line">        &#125;</span><br><span class="line">        out.<span class="built_in">flush</span>();</span><br><span class="line">        out.<span class="built_in">close</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>0.279s AC cpp代码：  </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> LL;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span> ULL;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn = <span class="number">42</span>;</span><br><span class="line"><span class="type">const</span> LL mod = <span class="number">1e8</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> digit = <span class="number">8</span>;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">LongInt</span></span><br><span class="line">&#123;</span><br><span class="line">    LL data[<span class="number">3</span>];</span><br><span class="line">    <span class="built_in">LongInt</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        data[<span class="number">0</span>] = data[<span class="number">1</span>] = data[<span class="number">2</span>] = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">LongInt</span>(LL n)</span><br><span class="line">    &#123;</span><br><span class="line">        data[<span class="number">0</span>] = n % mod;</span><br><span class="line">        n /= mod;</span><br><span class="line">        data[<span class="number">1</span>] = n % mod;</span><br><span class="line">        n /= mod;</span><br><span class="line">        data[<span class="number">2</span>] = n;</span><br><span class="line">    &#125;</span><br><span class="line">    LongInt <span class="keyword">operator</span>= (<span class="type">const</span> LL num)</span><br><span class="line">    &#123;</span><br><span class="line">        LL n = num;</span><br><span class="line">        data[<span class="number">0</span>] = n % mod;</span><br><span class="line">        n /= mod;</span><br><span class="line">        data[<span class="number">1</span>] = n % mod;</span><br><span class="line">        n /= mod;</span><br><span class="line">        data[<span class="number">2</span>] = n;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    LongInt <span class="keyword">operator</span>+ (<span class="type">const</span> LL&amp; num)</span><br><span class="line">    &#123;</span><br><span class="line">        LL n = num;</span><br><span class="line">        LongInt tmp = *<span class="keyword">this</span>;</span><br><span class="line">        tmp.data[<span class="number">0</span>] += n;</span><br><span class="line">        tmp.data[<span class="number">1</span>] += tmp.data[<span class="number">0</span>] / mod;</span><br><span class="line">        tmp.data[<span class="number">0</span>] %= mod;</span><br><span class="line">        tmp.data[<span class="number">2</span>] += tmp.data[<span class="number">1</span>] / mod;</span><br><span class="line">        tmp.data[<span class="number">1</span>] %= mod;</span><br><span class="line">        <span class="keyword">return</span> tmp;</span><br><span class="line">    &#125;</span><br><span class="line">    LongInt <span class="keyword">operator</span>+ (<span class="type">const</span> LongInt&amp; b)</span><br><span class="line">    &#123;</span><br><span class="line">        LongInt tmp = *<span class="keyword">this</span>;</span><br><span class="line">        tmp.data[<span class="number">0</span>] += b.data[<span class="number">0</span>];</span><br><span class="line">        tmp.data[<span class="number">1</span>] += b.data[<span class="number">1</span>];</span><br><span class="line">        tmp.data[<span class="number">2</span>] += b.data[<span class="number">2</span>];</span><br><span class="line">        tmp.data[<span class="number">1</span>] += tmp.data[<span class="number">0</span>] / mod;</span><br><span class="line">        tmp.data[<span class="number">0</span>] %= mod;</span><br><span class="line">        tmp.data[<span class="number">2</span>] += tmp.data[<span class="number">1</span>] / mod;</span><br><span class="line">        tmp.data[<span class="number">1</span>] %= mod;</span><br><span class="line">        <span class="keyword">return</span> tmp;</span><br><span class="line">    &#125;</span><br><span class="line">    LongInt <span class="keyword">operator</span>- (<span class="type">const</span> LongInt&amp; b)</span><br><span class="line">    &#123;</span><br><span class="line">        LongInt tmp = *<span class="keyword">this</span>;</span><br><span class="line">        tmp.data[<span class="number">0</span>] -= b.data[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">if</span> (tmp.data[<span class="number">0</span>] &lt; <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            tmp.data[<span class="number">1</span>]--;</span><br><span class="line">            tmp.data[<span class="number">0</span>] += mod;</span><br><span class="line">        &#125;</span><br><span class="line">        tmp.data[<span class="number">1</span>] -= b.data[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span> (tmp.data[<span class="number">1</span>] &lt; <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            tmp.data[<span class="number">2</span>]--;</span><br><span class="line">            tmp.data[<span class="number">1</span>] += mod;</span><br><span class="line">        &#125;</span><br><span class="line">        tmp.data[<span class="number">2</span>] -= b.data[<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">return</span> tmp;</span><br><span class="line">    &#125;</span><br><span class="line">    LongInt <span class="keyword">operator</span>* (<span class="type">const</span> LL num)</span><br><span class="line">    &#123;</span><br><span class="line">        LL n = num;</span><br><span class="line">        LongInt tmp = *<span class="keyword">this</span>;</span><br><span class="line">        tmp.data[<span class="number">0</span>] *= num;</span><br><span class="line">        tmp.data[<span class="number">1</span>] *= num;</span><br><span class="line">        tmp.data[<span class="number">2</span>] *= num;</span><br><span class="line">        tmp.data[<span class="number">1</span>] += tmp.data[<span class="number">0</span>] / mod;</span><br><span class="line">        tmp.data[<span class="number">0</span>] %= mod;</span><br><span class="line">        tmp.data[<span class="number">2</span>] += tmp.data[<span class="number">1</span>] / mod;</span><br><span class="line">        tmp.data[<span class="number">1</span>] %= mod;</span><br><span class="line">        <span class="keyword">return</span> tmp;</span><br><span class="line">    &#125;</span><br><span class="line">    LongInt <span class="keyword">operator</span>*= (<span class="type">const</span> LL num)</span><br><span class="line">    &#123;</span><br><span class="line">        *<span class="keyword">this</span> = *<span class="keyword">this</span> * num;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    LongInt <span class="keyword">operator</span>/ (<span class="type">const</span> LL num)</span><br><span class="line">    &#123;</span><br><span class="line">        LongInt tmp = *<span class="keyword">this</span>;</span><br><span class="line">        tmp.data[<span class="number">1</span>] += tmp.data[<span class="number">2</span>] % num * mod;</span><br><span class="line">        tmp.data[<span class="number">2</span>] /= num;</span><br><span class="line">        tmp.data[<span class="number">0</span>] += tmp.data[<span class="number">1</span>] % num * mod;</span><br><span class="line">        tmp.data[<span class="number">1</span>] /= num;</span><br><span class="line">        tmp.data[<span class="number">0</span>] /= num;</span><br><span class="line">        <span class="keyword">return</span> tmp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">fillzero</span><span class="params">(<span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="type">char</span> str[digit * <span class="number">2</span>];</span><br><span class="line">        <span class="built_in">sprintf</span>(str, <span class="string">&quot;%d&quot;</span>, n);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= digit - <span class="built_in">strlen</span>(str); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, <span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%s&quot;</span>, str);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (data[<span class="number">2</span>] &gt; <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, data[<span class="number">2</span>]);</span><br><span class="line">            <span class="built_in">fillzero</span>(data[<span class="number">1</span>]);</span><br><span class="line">            <span class="built_in">fillzero</span>(data[<span class="number">0</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (data[<span class="number">1</span>] &gt; <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, data[<span class="number">1</span>]);</span><br><span class="line">            <span class="built_in">fillzero</span>(data[<span class="number">0</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, data[<span class="number">0</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> LL pow2[maxn] = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">8</span>, <span class="number">16</span>, <span class="number">32</span>, <span class="number">64</span>, <span class="number">128</span>,</span><br><span class="line">                       <span class="number">256</span>, <span class="number">512</span>, <span class="number">1024</span>, <span class="number">2048</span>, <span class="number">4096</span>, <span class="number">8192</span>, <span class="number">16384</span>, <span class="number">32768</span>,</span><br><span class="line">                       <span class="number">65536</span>, <span class="number">131072</span>, <span class="number">262144</span>, <span class="number">524288</span>, <span class="number">1048576</span>, <span class="number">2097152</span>, <span class="number">4194304</span>, <span class="number">8388608</span>,</span><br><span class="line">                       <span class="number">16777216</span>, <span class="number">33554432</span>, <span class="number">67108864</span>, <span class="number">134217728</span>, <span class="number">268435456</span>, <span class="number">536870912</span>, <span class="number">1073741824</span>, <span class="number">2147483648</span>,</span><br><span class="line">                       <span class="number">4294967296</span>, <span class="number">8589934592</span>, <span class="number">17179869184</span>, <span class="number">34359738368</span>, <span class="number">68719476736</span>, <span class="number">137438953472</span>, <span class="number">274877906944</span>, <span class="number">549755813888</span>,</span><br><span class="line">                       <span class="number">1099511627776</span>, <span class="number">2199023255552</span></span><br><span class="line">                      &#125;;</span><br><span class="line"><span class="comment">/*const ULL sum[maxn] = &#123;3, 5, 11, 29, 83, 245, 731, 2189,</span></span><br><span class="line"><span class="comment">                       6563, 19685, 59051, 177149, 531443, 1594325, 4782971, 14348909,</span></span><br><span class="line"><span class="comment">                       43046723, 129140165, 387420491, 1162261469, 3486784403, 10460353205, 31381059611, 94143178829,</span></span><br><span class="line"><span class="comment">                       282429536483, 847288609445, 2541865828331, 7625597484989, 22876792454963, 68630377364885, 205891132094651, 617673396283949,</span></span><br><span class="line"><span class="comment">                       1853020188851843, 5559060566555525, 16677181699666571, 50031545098999709, 150094635296999123, 450283905890997365, 1350851717672992091, 4052555153018976269,</span></span><br><span class="line"><span class="comment">                       12157665459056928803</span></span><br><span class="line"><span class="comment">                      &#125;;*/</span></span><br><span class="line">LongInt sum[maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">found_pow2</span><span class="params">(ULL n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">int</span>(<span class="built_in">log</span>(n) / <span class="built_in">log</span>(<span class="number">2</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">LongInt <span class="title">Bisearch</span><span class="params">(LL l, LL r, LongInt ls, LongInt rs, LL key)</span> <span class="comment">// [ l , r ) </span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (l + <span class="number">1</span> &lt; r)</span><br><span class="line">    &#123;</span><br><span class="line">        ULL mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (key &lt; mid)</span><br><span class="line">        &#123;</span><br><span class="line">            r = mid;</span><br><span class="line">            rs = (rs - ls) / <span class="number">3</span> + ls;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            l = mid;</span><br><span class="line">            ls = (rs - ls) / <span class="number">3</span> + ls;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ls;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">LongInt <span class="title">solve</span><span class="params">(LL n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (n &lt; <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (!n)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> k = <span class="built_in">found_pow2</span>(n + <span class="number">1</span>);</span><br><span class="line">    LongInt ls = sum[k];</span><br><span class="line">    LongInt rs = sum[k + <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Bisearch</span>(pow2[k], pow2[k + <span class="number">1</span>], ls, rs, n + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    LongInt tmp = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; maxn; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        sum[i] = tmp;</span><br><span class="line">        tmp *= <span class="number">3</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">init</span>();</span><br><span class="line">    LL n, m;</span><br><span class="line">    <span class="keyword">while</span> (cin &gt;&gt; n &gt;&gt; m)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (!n &amp;&amp; !m)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        LongInt ans = <span class="built_in">solve</span>(m) - <span class="built_in">solve</span>(n - <span class="number">1</span>);</span><br><span class="line">        ans.<span class="built_in">print</span>();</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2015-05-03T10:02:33.000Z" title="5/3/2015, 10:02:33 AM">05/03/2015</time></span><span class="level-item">Updated&nbsp;<time dateTime="2025-12-16T07:00:45.821Z" title="12/16/2025, 7:00:45 AM">12/16/2025</time></span><span class="level-item"> Semprathlon / Simfae Dean </span><span class="level-item"><a class="link-muted" href="/categories/ACM-ICPC/">ACM-ICPC</a><span> / </span><a class="link-muted" href="/categories/ACM-ICPC/Programing/">Programing</a></span><span class="level-item">2 minutes read (About 239 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/posts/c8084c88/">看起来比较舒服的矩阵乘法模板</a></p><div class="content"><p><a target="_blank" rel="noopener" href="http://www.cnblogs.com/proverbs/archive/2012/10/10/2718799.html">转载源页面</a><br>poj 3070</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SIZE 4 </span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> mod 10000</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">MATRIX</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> mt[SIZE][SIZE];</span><br><span class="line">    <span class="type">int</span> x,y;</span><br><span class="line">&#125;ans,def;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="keyword">inline</span> MATRIX <span class="keyword">operator</span> *(MATRIX a,MATRIX b)</span><br><span class="line">&#123;</span><br><span class="line">    MATRIX c;</span><br><span class="line">    <span class="built_in">memset</span>(c.mt,<span class="number">0</span>,<span class="keyword">sizeof</span> c.mt);</span><br><span class="line">    c.x=a.x; c.y=b.y;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=a.x;i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=b.y;j++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> k=<span class="number">1</span>;k&lt;=a.y;k++)</span><br><span class="line">                c.mt[i][j]=(c.mt[i][j]+(a.mt[i][k]%mod)*(b.mt[k][j]%mod))%mod;</span><br><span class="line">    <span class="keyword">return</span> c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">inline</span> MATRIX <span class="keyword">operator</span> +(MATRIX a,MATRIX b)</span><br><span class="line">&#123;</span><br><span class="line">    MATRIX c;</span><br><span class="line">    <span class="built_in">memset</span>(c.mt,<span class="number">0</span>,<span class="keyword">sizeof</span> c.mt);</span><br><span class="line">    c.x=a.x; c.y=a.y;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=c.x;i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=c.y;j++)</span><br><span class="line">            c.mt[i][j]=(a.mt[i][j]+b.mt[i][j])%mod;</span><br><span class="line">    <span class="keyword">return</span> c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">bool</span> <span class="title">prt</span><span class="params">(MATRIX &amp;c)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=c.x;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=c.y;j++) <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,c.mt[i][j]);</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">go</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    n-=<span class="number">2</span>;</span><br><span class="line">    def.mt[<span class="number">1</span>][<span class="number">1</span>]=def.mt[<span class="number">1</span>][<span class="number">2</span>]=def.mt[<span class="number">2</span>][<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">    def.mt[<span class="number">2</span>][<span class="number">2</span>]=<span class="number">0</span>; def.x=def.y=<span class="number">2</span>;</span><br><span class="line">    ans.mt[<span class="number">1</span>][<span class="number">1</span>]=ans.mt[<span class="number">1</span>][<span class="number">2</span>]=ans.mt[<span class="number">2</span>][<span class="number">1</span>]=<span class="number">1</span>; ans.mt[<span class="number">2</span>][<span class="number">2</span>]=<span class="number">0</span>;</span><br><span class="line">    ans.x=ans.y=<span class="number">2</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(n)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(n&amp;<span class="number">1</span>) ans=ans*def;</span><br><span class="line">        def=def*def;</span><br><span class="line">        n&gt;&gt;=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,ans.mt[<span class="number">1</span>][<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(n==<span class="number">-1</span>) <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(n==<span class="number">0</span>) <span class="built_in">puts</span>(<span class="string">&quot;0&quot;</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(n==<span class="number">1</span>) <span class="built_in">puts</span>(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">go</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2015-05-03T09:43:25.000Z" title="5/3/2015, 9:43:25 AM">05/03/2015</time></span><span class="level-item">Updated&nbsp;<time dateTime="2025-12-16T07:00:45.821Z" title="12/16/2025, 7:00:45 AM">12/16/2025</time></span><span class="level-item"> Semprathlon / Simfae Dean </span><span class="level-item"><a class="link-muted" href="/categories/ACM-ICPC/">ACM-ICPC</a><span> / </span><a class="link-muted" href="/categories/ACM-ICPC/Programing/">Programing</a></span><span class="level-item">a minute read (About 167 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/posts/b4a085e6/">ACM-ICPC Live Archive Regionals 2014 &gt;&gt; Asia - Kuala Lumpur 6811 - Irrigation Lines</a></p><div class="content"><p>参见：<a target="_blank" rel="noopener" href="http://www.2cto.com/kf/201411/355095.html">转载前页面</a></p>
<p>怎么读题时就没发现“每行每列各有一个水阀”？这是把问题转化成二分图模型的关键啊</p>
<embed width="100%" height="600" name="plugin" src="https://icpcarchive.ecs.baylor.edu/external/68/6811.pdf" type="application/pdf" internalinstanceid="23"/>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"> </span><br><span class="line"><span class="type">const</span> <span class="type">int</span> MAXN = <span class="number">110</span>;</span><br><span class="line"><span class="type">char</span> graph[MAXN][MAXN];</span><br><span class="line"><span class="type">bool</span> visited[MAXN];</span><br><span class="line"><span class="type">int</span> nCase, cCase, use[MAXN], m, n;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(use, <span class="number">-1</span>, <span class="built_in">sizeof</span>(use));</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">input</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;m, &amp;n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, graph[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (graph[x][j] == <span class="string">&#x27;1&#x27;</span> &amp;&amp; !visited[j]) &#123;</span><br><span class="line">            visited[j] = <span class="literal">true</span>;</span><br><span class="line"> </span><br><span class="line">            <span class="keyword">if</span> (use[j] == <span class="number">-1</span> || <span class="built_in">find</span>(use[j])) &#123;</span><br><span class="line">                use[j] = x;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">match</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">        <span class="built_in">memset</span>(visited, <span class="literal">false</span>, <span class="built_in">sizeof</span>(visited));</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">find</span>(i)) count++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Case #%d: %d\n&quot;</span>, ++cCase, <span class="built_in">match</span>());</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;nCase);</span><br><span class="line">    <span class="keyword">while</span> (nCase--) &#123;</span><br><span class="line">        <span class="built_in">init</span>();</span><br><span class="line">        <span class="built_in">input</span>();</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line"> </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2015-04-25T20:55:46.000Z" title="4/25/2015, 8:55:46 PM">04/25/2015</time></span><span class="level-item">Updated&nbsp;<time dateTime="2025-12-16T07:00:45.821Z" title="12/16/2025, 7:00:45 AM">12/16/2025</time></span><span class="level-item"> Semprathlon / Simfae Dean </span><span class="level-item"><a class="link-muted" href="/categories/ACM-ICPC/">ACM-ICPC</a><span> / </span><a class="link-muted" href="/categories/ACM-ICPC/Programing/">Programing</a></span><span class="level-item">a minute read (About 173 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/posts/4eca73a3/">2015年浙江省大学生程序设计竞赛</a></p><div class="content"><p>像这样搞错映射关系，不是个很好的情况</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> CLEAR(a) memset((a),0,sizeof((a)))</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> LL;</span><br><span class="line"><span class="type">const</span> <span class="type">double</span> pi = <span class="built_in">acos</span>(<span class="number">-1.0</span>);</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn=<span class="number">1e4</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> inf=<span class="number">99999999</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">double</span> eps=<span class="number">1e-3</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> month[<span class="number">13</span>]=&#123;<span class="number">0</span>,<span class="number">31</span>,<span class="number">28</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">ans</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">//  cout&lt;&lt;x&lt;&lt;endl ;</span></span><br><span class="line">    <span class="keyword">if</span> (x==<span class="number">-1</span>) <span class="keyword">return</span> <span class="number">6</span>;</span><br><span class="line">    <span class="keyword">if</span> (x==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">5</span>;</span><br><span class="line">    <span class="keyword">if</span> (x==<span class="number">1</span>) <span class="keyword">return</span> <span class="number">6</span>;</span><br><span class="line">    <span class="keyword">if</span> (x==<span class="number">2</span>) <span class="keyword">return</span> <span class="number">9</span>;</span><br><span class="line">    <span class="keyword">if</span> (x==<span class="number">3</span>) <span class="keyword">return</span> <span class="number">6</span>;</span><br><span class="line">    <span class="keyword">if</span> (x==<span class="number">4</span>) <span class="keyword">return</span> <span class="number">5</span>;</span><br><span class="line">    <span class="keyword">if</span> (x==<span class="number">5</span>) <span class="keyword">return</span> <span class="number">5</span>;</span><br><span class="line">    <span class="keyword">if</span> (x==<span class="number">6</span>) <span class="keyword">return</span> <span class="number">5</span>;</span><br><span class="line">    <span class="keyword">if</span> (x==<span class="number">7</span>) <span class="keyword">return</span> <span class="number">5</span>;</span><br><span class="line">    <span class="keyword">if</span> (x==<span class="number">8</span>) <span class="keyword">return</span> <span class="number">6</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">isleap</span><span class="params">(<span class="type">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> ((y%<span class="number">4</span>==<span class="number">0</span>&amp;&amp;y%<span class="number">100</span>!=<span class="number">0</span>) || y%<span class="number">400</span>==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">366</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">365</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">fun</span><span class="params">(<span class="type">int</span> y,<span class="type">int</span> m)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (m==<span class="number">2</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> ((y%<span class="number">4</span>==<span class="number">0</span>&amp;&amp;y%<span class="number">100</span>!=<span class="number">0</span>) || y%<span class="number">400</span>==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">29</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">28</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> month[m];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> T;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;T);</span><br><span class="line">    <span class="keyword">while</span>(T--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> y;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;y);</span><br><span class="line">        <span class="type">int</span> day=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1928</span>;i&lt;y;i++)</span><br><span class="line">            day+=<span class="built_in">isleap</span>(i);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">4</span>;i++)</span><br><span class="line">            day+=<span class="built_in">fun</span>(y,i);</span><br><span class="line">        day+=<span class="number">1</span>;</span><br><span class="line">        <span class="comment">//cout&lt;&lt;day&lt;&lt;&#x27; &#x27;;</span></span><br><span class="line">        cout&lt;&lt;<span class="built_in">ans</span>(day%<span class="number">7</span>)&lt;&lt;endl;</span><br><span class="line">        <span class="comment">/*switch (day%7)</span></span><br><span class="line"><span class="comment">        &#123;</span></span><br><span class="line"><span class="comment">        case 0:</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        &#125;*/</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/page/25/">Previous</a></div><div class="pagination-next"><a href="/page/27/">Next</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/">1</a></li><li><span class="pagination-ellipsis">&hellip;</span></li><li><a class="pagination-link" href="/page/25/">25</a></li><li><a class="pagination-link is-current" href="/page/26/">26</a></li><li><a class="pagination-link" href="/page/27/">27</a></li><li><span class="pagination-ellipsis">&hellip;</span></li><li><a class="pagination-link" href="/page/30/">30</a></li></ul></nav></div><!--!--><div class="column column-right is-4-tablet is-4-desktop is-4-widescreen  order-3"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="https://ui-avatars.com/api/?name=Citru+Xonve&amp;background=0D8ABC&amp;color=fff&amp;size=128" alt="CitruXonve"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">CitruXonve</p><p class="is-size-6 is-block">Fullstack Developer, Data Platform, UI/UX</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Sunnyvale, CA, US</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives/"><p class="title">293</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories/"><p class="title">36</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags/"><p class="title">148</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/CitruXonve" target="_blank" rel="me noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="me noopener" title="Github" href="https://github.com/CitruXonve"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="me noopener" title="Facebook" href="https://www.facebook.com/IrisAmamiya/"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="me noopener" title="Twitter" href="https://twitter.com/Iris_Amamiya/"><i class="fab fa-twitter"></i></a></div></div></div><!--!--><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/ACM-ICPC/"><span class="level-start"><span class="level-item">ACM-ICPC</span></span><span class="level-end"><span class="level-item tag">95</span></span></a><ul><li><a class="level is-mobile" href="/categories/ACM-ICPC/Programing/"><span class="level-start"><span class="level-item">Programing</span></span><span class="level-end"><span class="level-item tag">94</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/About/"><span class="level-start"><span class="level-item">About</span></span><span class="level-end"><span class="level-item tag">22</span></span></a></li><li><a class="level is-mobile" href="/categories/Computing/"><span class="level-start"><span class="level-item">Computing</span></span><span class="level-end"><span class="level-item tag">3</span></span></a><ul><li><a class="level is-mobile" href="/categories/Computing/Developing/"><span class="level-start"><span class="level-item">Developing</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Computing/Graphic/"><span class="level-start"><span class="level-item">Graphic</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/Computing/Graphic/Developing/"><span class="level-start"><span class="level-item">Developing</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="/categories/Computing-Cloud/"><span class="level-start"><span class="level-item">Computing - Cloud</span></span><span class="level-end"><span class="level-item tag">2</span></span></a><ul><li><a class="level is-mobile" href="/categories/Computing-Cloud/Notes/"><span class="level-start"><span class="level-item">Notes</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Criticisms/"><span class="level-start"><span class="level-item">Criticisms</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Deployment/"><span class="level-start"><span class="level-item">Deployment</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/DevOps/"><span class="level-start"><span class="level-item">DevOps</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Developing/"><span class="level-start"><span class="level-item">Developing</span></span><span class="level-end"><span class="level-item tag">25</span></span></a><ul><li><a class="level is-mobile" href="/categories/Developing/Environment/"><span class="level-start"><span class="level-item">Environment</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/Developing/Server/"><span class="level-start"><span class="level-item">Server</span></span><span class="level-end"><span class="level-item tag">6</span></span></a><ul><li><a class="level is-mobile" href="/categories/Developing/Server/Web/"><span class="level-start"><span class="level-item">Web</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Developing/Web/"><span class="level-start"><span class="level-item">Web</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Development/"><span class="level-start"><span class="level-item">Development</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/English/"><span class="level-start"><span class="level-item">English</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/Environment/"><span class="level-start"><span class="level-item">Environment</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/Environment/OS/"><span class="level-start"><span class="level-item">OS</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Git/"><span class="level-start"><span class="level-item">Git</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Graphic/"><span class="level-start"><span class="level-item">Graphic</span></span><span class="level-end"><span class="level-item tag">2</span></span></a><ul><li><a class="level is-mobile" href="/categories/Graphic/Developing/"><span class="level-start"><span class="level-item">Developing</span></span><span class="level-end"><span class="level-item tag">2</span></span></a><ul><li><a class="level is-mobile" href="/categories/Graphic/Developing/Game/"><span class="level-start"><span class="level-item">Game</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="/categories/Hardware/"><span class="level-start"><span class="level-item">Hardware</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Industrial/"><span class="level-start"><span class="level-item">Industrial</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Network/"><span class="level-start"><span class="level-item">Network</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/OS/"><span class="level-start"><span class="level-item">OS</span></span><span class="level-end"><span class="level-item tag">34</span></span></a></li><li><a class="level is-mobile" href="/categories/Programing/"><span class="level-start"><span class="level-item">Programing</span></span><span class="level-end"><span class="level-item tag">21</span></span></a><ul><li><a class="level is-mobile" href="/categories/Programing/ACM-ICPC/"><span class="level-start"><span class="level-item">ACM-ICPC</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/Programing/ACM-ICPC/Programing/"><span class="level-start"><span class="level-item">Programing</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="/categories/Server/"><span class="level-start"><span class="level-item">Server</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/Web/"><span class="level-start"><span class="level-item">Web</span></span><span class="level-end"><span class="level-item tag">3</span></span></a><ul><li><a class="level is-mobile" href="/categories/Web/About/"><span class="level-start"><span class="level-item">About</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/iOS/"><span class="level-start"><span class="level-item">iOS</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/ACM-ICPC/"><span class="tag">ACM-ICPC</span><span class="tag">14</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AC%E8%87%AA%E5%8A%A8%E6%9C%BA/"><span class="tag">AC自动机</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AWS/"><span class="tag">AWS</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Adobe/"><span class="tag">Adobe</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Angular/"><span class="tag">Angular</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Apache/"><span class="tag">Apache</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Arch-Linux/"><span class="tag">Arch Linux</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BFS/"><span class="tag">BFS</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BIT/"><span class="tag">BIT</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Bestcoder/"><span class="tag">Bestcoder</span><span class="tag">23</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Bitset/"><span class="tag">Bitset</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Bootstrap/"><span class="tag">Bootstrap</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/C/"><span class="tag">C++</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CCPC/"><span class="tag">CCPC</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Catalan/"><span class="tag">Catalan</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CentOS/"><span class="tag">CentOS</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Clover/"><span class="tag">Clover</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Compiler/"><span class="tag">Compiler</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Contest/"><span class="tag">Contest</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Cpp/"><span class="tag">Cpp</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/DFS/"><span class="tag">DFS</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/DNS/"><span class="tag">DNS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/DP/"><span class="tag">DP</span><span class="tag">13</span></a></div><div class="control"><a class="tags has-addons" href="/tags/DSDT/"><span class="tag">DSDT</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Data-Analytics/"><span class="tag">Data Analytics</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Dinic/"><span class="tag">Dinic</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Docker/"><span class="tag">Docker</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Eclipse/"><span class="tag">Eclipse</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Expect/"><span class="tag">Expect</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Fibonacci/"><span class="tag">Fibonacci</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Frontend/"><span class="tag">Frontend</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GLUT/"><span class="tag">GLUT</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GPT/"><span class="tag">GPT</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GUI/"><span class="tag">GUI</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Gentoo/"><span class="tag">Gentoo</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Geometry/"><span class="tag">Geometry</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Git/"><span class="tag">Git</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Github/"><span class="tag">Github</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Graduate/"><span class="tag">Graduate</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/HTML/"><span class="tag">HTML</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Hash/"><span class="tag">Hash</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Heap/"><span class="tag">Heap</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Interview/"><span class="tag">Interview</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JNUOJ/"><span class="tag">JNUOJ</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Java/"><span class="tag">Java</span><span class="tag">12</span></a></div><div class="control"><a class="tags has-addons" href="/tags/K8s/"><span class="tag">K8s</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/KMP/"><span class="tag">KMP</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linux/"><span class="tag">Linux</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Live-Archive/"><span class="tag">Live Archive</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MBR/"><span class="tag">MBR</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MS-DOS/"><span class="tag">MS=DOS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Mac/"><span class="tag">Mac</span><span class="tag">14</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Manhattan/"><span class="tag">Manhattan</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Multi-Uni/"><span class="tag">Multi-Uni</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MySQL/"><span class="tag">MySQL</span><span class="tag">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Mobius%E5%8F%8D%E6%BC%94/"><span class="tag">Möbius反演</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/NAS/"><span class="tag">NAS</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/NetworkFlow/"><span class="tag">NetworkFlow</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/NoSQL/"><span class="tag">NoSQL</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/OS/"><span class="tag">OS</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/OpenCV/"><span class="tag">OpenCV</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/OpenGL/"><span class="tag">OpenGL</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Python/"><span class="tag">Python</span><span class="tag">11</span></a></div><div class="control"><a class="tags has-addons" href="/tags/RMQ/"><span class="tag">RMQ</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/React/"><span class="tag">React</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Regional/"><span class="tag">Regional</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Repost/"><span class="tag">Repost</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Ryzen/"><span class="tag">Ryzen</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/SQLserver/"><span class="tag">SQLserver</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/SSH/"><span class="tag">SSH</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/SSL/"><span class="tag">SSL</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/System-Design/"><span class="tag">System Design</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/TOEFL/"><span class="tag">TOEFL</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Template/"><span class="tag">Template</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Tree/"><span class="tag">Tree</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Trie/"><span class="tag">Trie</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/TypeScript/"><span class="tag">TypeScript</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/UEFI/"><span class="tag">UEFI</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/UX/"><span class="tag">UX</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Ubuntu/"><span class="tag">Ubuntu</span><span class="tag">15</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Unix/"><span class="tag">Unix</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Windows/"><span class="tag">Windows</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Wordpress/"><span class="tag">Wordpress</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ZFS/"><span class="tag">ZFS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ZOJ/"><span class="tag">ZOJ</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ajax/"><span class="tag">ajax</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/asm/"><span class="tag">asm</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/css/"><span class="tag">css</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/cuda/"><span class="tag">cuda</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/cudnn/"><span class="tag">cudnn</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/curl/"><span class="tag">curl</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/docker/"><span class="tag">docker</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/es6/"><span class="tag">es6</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/font/"><span class="tag">font</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ftp/"><span class="tag">ftp</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/git/"><span class="tag">git</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/gitlab/"><span class="tag">gitlab</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/hardware/"><span class="tag">hardware</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/hdu/"><span class="tag">hdu</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/hexo/"><span class="tag">hexo</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/html/"><span class="tag">html</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/https/"><span class="tag">https</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/iOS/"><span class="tag">iOS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/interview/"><span class="tag">interview</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/java/"><span class="tag">java</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/javascript/"><span class="tag">javascript</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/jdk/"><span class="tag">jdk</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/jquery/"><span class="tag">jquery</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/js/"><span class="tag">js</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/json/"><span class="tag">json</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/kext/"><span class="tag">kext</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/macOS/"><span class="tag">macOS</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/network/"><span class="tag">network</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nginx/"><span class="tag">nginx</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/node/"><span class="tag">node</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nodejs/"><span class="tag">nodejs</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/npm/"><span class="tag">npm</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/php/"><span class="tag">php</span><span class="tag">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/python/"><span class="tag">python</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/react/"><span class="tag">react</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/react-native/"><span class="tag">react native</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/regex/"><span class="tag">regex</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/string/"><span class="tag">string</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%BA%8C%E5%88%86%E5%9B%BE/"><span class="tag">二分图</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/"><span class="tag">二分查找</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%8D%9A%E5%BC%88/"><span class="tag">博弈</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%AE%B9%E6%96%A5%E5%8E%9F%E7%90%86/"><span class="tag">容斥原理</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%B9%B6%E6%9F%A5%E9%9B%86/"><span class="tag">并查集</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%B9%B6%E8%A1%8C%E8%AE%A1%E7%AE%97/"><span class="tag">并行计算</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%BE%AE%E7%A7%AF%E5%88%86/"><span class="tag">微积分</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%89%AB%E6%8F%8F%E7%BA%BF/"><span class="tag">扫描线</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%95%B0%E5%88%97/"><span class="tag">数列</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%95%B0%E7%8B%AC/"><span class="tag">数独</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%95%B0%E8%AE%BA/"><span class="tag">数论</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%A6%82%E7%8E%87/"><span class="tag">概率</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%A8%A1%E6%8B%9F/"><span class="tag">模拟</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%AC%A7%E6%8B%89%E5%9B%9E%E8%B7%AF/"><span class="tag">欧拉回路</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%99%BE%E5%BA%A6%E4%B9%8B%E6%98%9F/"><span class="tag">百度之星</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%9F%A5%E4%B9%8E/"><span class="tag">知乎</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%A6%BB%E6%95%A3%E5%8C%96/"><span class="tag">离散化</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%BA%A6%E7%91%9F%E5%A4%AB/"><span class="tag">约瑟夫</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%BA%BF%E6%AE%B5%E6%A0%91/"><span class="tag">线段树</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%BB%84%E5%90%88%E6%95%B0%E5%AD%A6/"><span class="tag">组合数学</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%BD%91%E7%BB%9C%E8%B5%9B/"><span class="tag">网络赛</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%83%8C%E5%8C%85/"><span class="tag">背包</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98/"><span class="tag">背包问题</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%BD%AC%E8%BD%BD%E5%8D%9A%E6%96%87/"><span class="tag">转载博文</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%80%92%E5%BD%92/"><span class="tag">递归</span><span class="tag">1</span></a></div></div></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">Subscribe for updates</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile" href="http://marisa.moe/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">雾雨魔理沙</span></span><span class="level-right"><span class="level-item tag">marisa.moe</span></span></a></li><li><a class="level is-mobile" href="https://blinkfox.github.io/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">闪烁之狐</span></span><span class="level-right"><span class="level-item tag">blinkfox.github.io</span></span></a></li><li><a class="level is-mobile" href="https://phesoca.com/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">绯索卡</span></span><span class="level-right"><span class="level-item tag">phesoca.com</span></span></a></li><li><a class="level is-mobile" href="https://paperneko.moe/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">笈川伊織（紙喵）</span></span><span class="level-right"><span class="level-item tag">paperneko.moe</span></span></a></li><li><a class="level is-mobile" href="https://neko.ayaka.moe/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Ayaka Neko</span></span><span class="level-right"><span class="level-item tag">neko.ayaka.moe</span></span></a></li><li><a class="level is-mobile" href="https://blog.skk.moe/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Sukka</span></span><span class="level-right"><span class="level-item tag">blog.skk.moe</span></span></a></li><li><a class="level is-mobile" href="https://hexo.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Hexo</span></span><span class="level-right"><span class="level-item tag">hexo.io</span></span></a></li><li><a class="level is-mobile" href="https://bulma.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Bulma</span></span><span class="level-right"><span class="level-item tag">bulma.io</span></span></a></li><li><a class="level is-mobile" href="https://funactional.github.io/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Function</span></span><span class="level-right"><span class="level-item tag">funactional.github.io</span></span></a></li><li><a class="level is-mobile" href="http://www.kuangbin.net/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">kuangbin</span></span><span class="level-right"><span class="level-item tag">www.kuangbin.net</span></span></a></li><li><a class="level is-mobile" href="http://hzwer.com/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">hzwer</span></span><span class="level-right"><span class="level-item tag">hzwer.com</span></span></a></li><li><a class="level is-mobile" href="http://tsyao.tk/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">tsyao</span></span><span class="level-right"><span class="level-item tag">tsyao.tk</span></span></a></li><li><a class="level is-mobile" href="http://c.ejq.me/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">氢酱</span></span><span class="level-right"><span class="level-item tag">c.ejq.me</span></span></a></li><li><a class="level is-mobile" href="http://coderunion.github.io/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">CoderUnion</span></span><span class="level-right"><span class="level-item tag">coderunion.github.io</span></span></a></li><li><a class="level is-mobile" href="https://github.com/dangxuandev" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">当轩</span></span><span class="level-right"><span class="level-item tag">github.com</span></span></a></li><li><a class="level is-mobile" href="https://zhuanlan.zhihu.com/simplyy" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">SimplyY</span></span><span class="level-right"><span class="level-item tag">zhuanlan.zhihu.com</span></span></a></li><li><a class="level is-mobile" href="http://blog.xen0n.name/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">xen0n</span></span><span class="level-right"><span class="level-item tag">blog.xen0n.name</span></span></a></li><li><a class="level is-mobile" href="https://github.com/NaturalL" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">NaturalL</span></span><span class="level-right"><span class="level-item tag">github.com</span></span></a></li><li><a class="level is-mobile" href="https://huaji8.top/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">幻想帖</span></span><span class="level-right"><span class="level-item tag">huaji8.top</span></span></a></li><li><a class="level is-mobile" href="https://otakism.com/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">宅談</span></span><span class="level-right"><span class="level-item tag">otakism.com</span></span></a></li><li><a class="level is-mobile" href="https://liyin.date/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">天空之间</span></span><span class="level-right"><span class="level-item tag">liyin.date</span></span></a></li></ul></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="CitruXonve&#039;s another far end" height="28"></a><p class="is-size-7"><span>&copy; 2025 CitruXonve</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Icarus Theme on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script data-pjax src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script data-pjax src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><script type="text/javascript" id="MathJax-script" async>MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      },
      chtml: {
        matchFontHeight: false
      }
    };</script><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js"></script><!--!--><!--!--><!--!--><script data-pjax src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script data-pjax src="/js/insight.js" defer></script><script data-pjax>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>