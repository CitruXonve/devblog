<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="robots" content="noindex"><meta><title>Category: ACM-ICPC - CitruXonve&#039;s another far end</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="CitruXonve&#039;s another far end"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="CitruXonve&#039;s another far end"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="CitruXonve&#039;s another far end"><meta property="og:url" content="https://devblog.citruxonve.net/"><meta property="og:site_name" content="CitruXonve&#039;s another far end"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://devblog.citruxonve.net/img/og_image.png"><meta property="article:author" content="CitruXonve"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="https://devblog.citruxonve.net/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://devblog.citruxonve.net"},"headline":"CitruXonve's another far end","image":["https://devblog.citruxonve.net/img/og_image.png"],"author":{"@type":"Person","name":"CitruXonve"},"publisher":{"@type":"Organization","name":"CitruXonve's another far end","logo":{"@type":"ImageObject","url":"https://devblog.citruxonve.net/img/logo.svg"}},"description":null}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link data-pjax rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.7.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link data-pjax rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="CitruXonve&#039;s another far end" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">CrXon Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Icarus Theme on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/categories/">Categories</a></li><li class="is-active"><a href="#" aria-current="page">ACM-ICPC</a></li></ul></nav></div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2015-07-29T16:46:12.000Z" title="7/29/2015, 4:46:12 PM">07/29/2015</time></span><span class="level-item">Updated&nbsp;<time dateTime="2025-08-18T06:23:06.889Z" title="8/18/2025, 6:23:06 AM">08/18/2025</time></span><span class="level-item"> Semprathlon / Simfae Dean </span><span class="level-item"><a class="link-muted" href="/categories/ACM-ICPC/">ACM-ICPC</a><span> / </span><a class="link-muted" href="/categories/ACM-ICPC/Programing/">Programing</a></span><span class="level-item">4 minutes read (About 633 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/posts/6ed9f237/">2015 Multi-University Training Contest 3</a></p><div class="content"><h1 id="1001-Magician"><a href="#1001-Magician" class="headerlink" title="1001 Magician"></a><a target="_blank" rel="noopener" href="http://acm.hdu.edu.cn/showproblem.php?pid=5316">1001 Magician</a></h1><p>具有肉眼可见的可用线段树解决的统计操作要求。<br>但是区间更新异常繁杂。<br>不要拘泥于区间内具体的数据选取，而应该采用状态转移。<br>除了向上传递操作以外，注意查询操作时不要把区段查询结果直接更新到左右子树上（覆盖区域并不一致）   </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 2015年7月29日 上午10:35:39</span></span><br><span class="line"><span class="comment"> * PrjName:hdu5316-2</span></span><br><span class="line"><span class="comment"> * @ Semprathlon</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">long</span> inf=<span class="number">0x4000000000000000L</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">int</span> maxn=<span class="number">100010</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span>[] a=<span class="keyword">new</span> <span class="title class_">int</span>[maxn+<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">static</span> SegTree tr=<span class="keyword">new</span> <span class="title class_">SegTree</span>(<span class="number">1</span>, maxn);</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">        InputReader in=<span class="keyword">new</span> <span class="title class_">InputReader</span>(System.in);</span><br><span class="line">        PrintWriter out=<span class="keyword">new</span> <span class="title class_">PrintWriter</span>(System.out);</span><br><span class="line">        <span class="type">int</span> T=in.nextInt();</span><br><span class="line">        <span class="keyword">while</span>(T--&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="type">int</span> n=in.nextInt();</span><br><span class="line">            <span class="type">int</span> m=in.nextInt();</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) </span><br><span class="line">                a[i]=in.nextInt();</span><br><span class="line">            tr.reset(<span class="number">1</span>,<span class="number">1</span>, n, a);</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)&#123;</span><br><span class="line">                <span class="type">int</span> k=in.nextInt();</span><br><span class="line">                <span class="type">int</span> x=in.nextInt();   </span><br><span class="line">                <span class="keyword">if</span> (k==<span class="number">0</span>)&#123;</span><br><span class="line">                    <span class="comment">//out.println(tr.query(x, y));</span></span><br><span class="line">                    <span class="type">int</span> y=in.nextInt();</span><br><span class="line">                    <span class="type">long</span> ans=-inf;</span><br><span class="line">                    <span class="type">long</span>[] res=tr.query(<span class="number">1</span>,x, y);</span><br><span class="line">                    <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;<span class="number">4</span>;j++)</span><br><span class="line">                        ans=Math.max(ans, res[j]);</span><br><span class="line">                    out.println(ans);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span>&#123;</span><br><span class="line">                    <span class="type">long</span> y=in.nextLong();</span><br><span class="line">                    tr.update(<span class="number">1</span>,x, y);</span><br><span class="line">                &#125;</span><br><span class="line">                    </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        out.flush();</span><br><span class="line">        out.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SegTree</span>&#123;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">long</span> inf=<span class="number">0x4000000000000000L</span>;</span><br><span class="line">    <span class="type">int</span>[] l,r,mid;</span><br><span class="line">    <span class="type">long</span>[][] s;</span><br><span class="line">    SegTree(<span class="type">int</span> x,<span class="type">int</span> y)&#123;</span><br><span class="line">        l=<span class="keyword">new</span> <span class="title class_">int</span>[(y-x+<span class="number">2</span>)&lt;&lt;<span class="number">2</span>];</span><br><span class="line">        r=<span class="keyword">new</span> <span class="title class_">int</span>[(y-x+<span class="number">2</span>)&lt;&lt;<span class="number">2</span>];</span><br><span class="line">        mid=<span class="keyword">new</span> <span class="title class_">int</span>[(y-x+<span class="number">2</span>)&lt;&lt;<span class="number">2</span>];</span><br><span class="line">        s=<span class="keyword">new</span> <span class="title class_">long</span>[(y-x+<span class="number">2</span>)&lt;&lt;<span class="number">2</span>][<span class="number">4</span>];</span><br><span class="line">        build(<span class="number">1</span>,x,y);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">build</span><span class="params">(<span class="type">int</span> k,<span class="type">int</span> x,<span class="type">int</span> y)</span>&#123;</span><br><span class="line">        <span class="comment">/*l=x;r=y;*/</span>mid[k]=(x+y)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (x&lt;y)&#123;</span><br><span class="line">            build(k&lt;&lt;<span class="number">1</span>,x, mid[k]);</span><br><span class="line">            build(k&lt;&lt;<span class="number">1</span>|<span class="number">1</span>,mid[k]+<span class="number">1</span>, y);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//s0=s1=s2=s3=-inf;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">reset</span><span class="params">(<span class="type">int</span> k,<span class="type">int</span> x,<span class="type">int</span> y,<span class="type">int</span>[] a)</span>&#123;</span><br><span class="line">        l[k]=x;r[k]=y;mid[k]=(x+y)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (x&lt;y)&#123;</span><br><span class="line">            reset(k&lt;&lt;<span class="number">1</span>,x, mid[k], a);</span><br><span class="line">            reset(k&lt;&lt;<span class="number">1</span>|<span class="number">1</span>,mid[k]+<span class="number">1</span>, y, a);</span><br><span class="line">            up(s[k],s[k&lt;&lt;<span class="number">1</span>],s[k&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span> ((mid[k]&amp;<span class="number">1</span>)&gt;<span class="number">0</span>)&#123;<span class="comment">//odd</span></span><br><span class="line">                s[k][<span class="number">0</span>]=a[mid[k]];</span><br><span class="line">                s[k][<span class="number">1</span>]=s[k][<span class="number">2</span>]=s[k][<span class="number">3</span>]=-inf;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;<span class="comment">//even</span></span><br><span class="line">                s[k][<span class="number">3</span>]=a[mid[k]];</span><br><span class="line">                s[k][<span class="number">0</span>]=s[k][<span class="number">1</span>]=s[k][<span class="number">2</span>]=-inf;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">            </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">up</span><span class="params">(<span class="type">long</span>[] k,<span class="type">long</span>[] l,<span class="type">long</span>[] r)</span>&#123;</span><br><span class="line">        k[<span class="number">0</span>]=k[<span class="number">1</span>]=k[<span class="number">2</span>]=k[<span class="number">3</span>]=-inf;</span><br><span class="line">        k[<span class="number">0</span>]=Math.max(k[<span class="number">0</span>], l[<span class="number">0</span>]+r[<span class="number">2</span>]);<span class="comment">//odd-odd</span></span><br><span class="line">        k[<span class="number">0</span>]=Math.max(k[<span class="number">0</span>], l[<span class="number">1</span>]+r[<span class="number">0</span>]);</span><br><span class="line">        </span><br><span class="line">        k[<span class="number">1</span>]=Math.max(k[<span class="number">1</span>], l[<span class="number">1</span>]+r[<span class="number">1</span>]);<span class="comment">//odd-even</span></span><br><span class="line">        k[<span class="number">1</span>]=Math.max(k[<span class="number">1</span>], l[<span class="number">0</span>]+r[<span class="number">3</span>]);</span><br><span class="line">        </span><br><span class="line">        k[<span class="number">2</span>]=Math.max(k[<span class="number">2</span>], l[<span class="number">2</span>]+r[<span class="number">2</span>]);<span class="comment">//even-odd</span></span><br><span class="line">        k[<span class="number">2</span>]=Math.max(k[<span class="number">2</span>], l[<span class="number">3</span>]+r[<span class="number">0</span>]);</span><br><span class="line">        </span><br><span class="line">        k[<span class="number">3</span>]=Math.max(k[<span class="number">3</span>], l[<span class="number">3</span>]+r[<span class="number">1</span>]);<span class="comment">//even-even</span></span><br><span class="line">        k[<span class="number">3</span>]=Math.max(k[<span class="number">3</span>], l[<span class="number">2</span>]+r[<span class="number">3</span>]);</span><br><span class="line">        </span><br><span class="line">        k[<span class="number">0</span>]=Math.max(k[<span class="number">0</span>], l[<span class="number">0</span>]);</span><br><span class="line">        k[<span class="number">0</span>]=Math.max(k[<span class="number">0</span>], r[<span class="number">0</span>]);</span><br><span class="line">        </span><br><span class="line">        k[<span class="number">1</span>]=Math.max(k[<span class="number">1</span>], l[<span class="number">1</span>]);</span><br><span class="line">        k[<span class="number">1</span>]=Math.max(k[<span class="number">1</span>], r[<span class="number">1</span>]);</span><br><span class="line">        </span><br><span class="line">        k[<span class="number">2</span>]=Math.max(k[<span class="number">2</span>], l[<span class="number">2</span>]);</span><br><span class="line">        k[<span class="number">2</span>]=Math.max(k[<span class="number">2</span>], r[<span class="number">2</span>]);</span><br><span class="line">        </span><br><span class="line">        k[<span class="number">3</span>]=Math.max(k[<span class="number">3</span>], l[<span class="number">3</span>]);</span><br><span class="line">        k[<span class="number">3</span>]=Math.max(k[<span class="number">3</span>], r[<span class="number">3</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">long</span>[] query(<span class="type">int</span> k,<span class="type">int</span> x,<span class="type">int</span> y)&#123;</span><br><span class="line">        <span class="type">long</span>[] res=<span class="keyword">new</span> <span class="title class_">long</span>[<span class="number">4</span>];</span><br><span class="line">        <span class="keyword">if</span> (x==l[k]&amp;&amp;r[k]==y)&#123;</span><br><span class="line">            res=s[k].clone();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="type">long</span>[] L,R;</span><br><span class="line">            <span class="keyword">if</span> (x&lt;=mid[k]) L=query(k&lt;&lt;<span class="number">1</span>,x,Math.min(y, mid[k])).clone();</span><br><span class="line">            <span class="keyword">else</span> L=<span class="keyword">new</span> <span class="title class_">long</span>[]&#123;-inf,-inf,-inf,-inf&#125;;</span><br><span class="line">            <span class="keyword">if</span> (mid[k]&lt;y) R=query(k&lt;&lt;<span class="number">1</span>|<span class="number">1</span>,Math.max(mid[k]+<span class="number">1</span>, x),y).clone();</span><br><span class="line">            <span class="keyword">else</span> R=<span class="keyword">new</span> <span class="title class_">long</span>[]&#123;-inf,-inf,-inf,-inf&#125;;</span><br><span class="line">            up(res,L,R);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(<span class="type">int</span> k,<span class="type">int</span> x,<span class="type">long</span> d)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (l[k]==r[k])&#123;</span><br><span class="line">            <span class="keyword">if</span> ((mid[k]&amp;<span class="number">1</span>)&gt;<span class="number">0</span>)&#123;<span class="comment">//odd</span></span><br><span class="line">                s[k][<span class="number">0</span>]=d;</span><br><span class="line">                s[k][<span class="number">1</span>]=s[k][<span class="number">2</span>]=s[k][<span class="number">3</span>]=-inf;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;<span class="comment">//even</span></span><br><span class="line">                s[k][<span class="number">3</span>]=d;</span><br><span class="line">                s[k][<span class="number">0</span>]=s[k][<span class="number">1</span>]=s[k][<span class="number">2</span>]=-inf;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (x&lt;=mid[k]) update(k&lt;&lt;<span class="number">1</span>,x,d);</span><br><span class="line">        <span class="keyword">if</span> (mid[k]&lt;x) update(k&lt;&lt;<span class="number">1</span>|<span class="number">1</span>,x,d);</span><br><span class="line">        up(s[k],s[k&lt;&lt;<span class="number">1</span>],s[k&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">InputReader</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> BufferedReader reader;</span><br><span class="line">    <span class="keyword">public</span> StringTokenizer tokenizer;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">InputReader</span><span class="params">(InputStream stream)</span>&#123;</span><br><span class="line">           reader = <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(stream), <span class="number">32768</span>);</span><br><span class="line">           tokenizer = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">next</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(tokenizer == <span class="literal">null</span> || !tokenizer.hasMoreTokens())&#123;</span><br><span class="line">            <span class="keyword">try</span>&#123;</span><br><span class="line">                tokenizer = <span class="keyword">new</span> <span class="title class_">StringTokenizer</span>(reader.readLine());</span><br><span class="line">            &#125;<span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> tokenizer.nextToken();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">nextInt</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Integer.parseInt(next());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">long</span> <span class="title function_">nextLong</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Long.parseLong(next());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="1010-Crazy-Bobo"><a href="#1010-Crazy-Bobo" class="headerlink" title="1010 Crazy Bobo"></a><a target="_blank" rel="noopener" href="http://acm.hdu.edu.cn/showproblem.php?pid=5325">1010 Crazy Bobo</a></h1></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2015-07-27T11:15:11.000Z" title="7/27/2015, 11:15:11 AM">07/27/2015</time></span><span class="level-item">Updated&nbsp;<time dateTime="2025-08-18T06:23:06.888Z" title="8/18/2025, 6:23:06 AM">08/18/2025</time></span><span class="level-item"> Semprathlon / Simfae Dean </span><span class="level-item"><a class="link-muted" href="/categories/ACM-ICPC/">ACM-ICPC</a><span> / </span><a class="link-muted" href="/categories/ACM-ICPC/Programing/">Programing</a></span><span class="level-item">16 minutes read (About 2397 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/posts/78189e73/">ZOJ Monthly, July 2015</a></p><div class="content"><h1 id="B-Help-Bob"><a href="#B-Help-Bob" class="headerlink" title="B.Help Bob"></a>B.Help Bob</h1><blockquote>
<p>Time Limit: 2 Seconds      Memory Limit: 65536 KB    </p>
<ul>
<li><p>Problem Description<br>There is a game very popular in ZJU at present, Bob didn’t meant to participate in it. But he decided to join it after discovering a lot of pretty girls playing it.<br>There are n stones on the ground and they are marked as 1 to n respectively. There will be 2 players in each competition. And the game rules are simple, A and B take turns to move. Each round, one of them can only take 1 number away, and then pick out all the divisors of the choosed number. When anyone who can not take away 1 number any longer, he will fail the whole game.   </p>
</li>
<li><p>Input<br>There are multiple cases. Each case include an integer number n (0 ≤ n ≤ 100).   </p>
</li>
<li><p>Output<br>For each case, A win, output “win”. If not, output”fail”.   </p>
</li>
<li><p>Sample Input<br>3<br>4   </p>
</li>
<li><p>Sample Output<br>win<br>win</p>
</li>
</ul>
</blockquote>
<p>乍一看是博弈，其实啥都没！问题中的决策不一定最优，只要求获胜的可能……   </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">		StreamTokenizer in=<span class="keyword">new</span> <span class="title class_">StreamTokenizer</span>(<span class="keyword">new</span> <span class="title class_">BufferedInputStream</span>(System.in));</span><br><span class="line">		PrintWriter out=<span class="keyword">new</span> <span class="title class_">PrintWriter</span>(System.out);</span><br><span class="line">		<span class="keyword">while</span>(in.nextToken()!=StreamTokenizer.TT_EOF)&#123;</span><br><span class="line">			<span class="type">int</span> n=(<span class="type">int</span>)in.nval;</span><br><span class="line">			<span class="keyword">if</span> (n==<span class="number">0</span>) out.println(<span class="string">&quot;fail&quot;</span>);</span><br><span class="line">			<span class="keyword">else</span> out.println(<span class="string">&quot;win&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		out.flush();</span><br><span class="line">		out.close();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="E-The-Exchange-of-Items"><a href="#E-The-Exchange-of-Items" class="headerlink" title="E.The Exchange of Items"></a>E.The Exchange of Items</h1><blockquote>
<p>Time Limit: 2 Seconds      Memory Limit: 65536 KB   </p>
<ul>
<li><p>Problem Description<br>Bob lives in an ancient village, where transactions are done by one item exchange with another. Bob is very clever and he knows what items will become more valuable later on. So, Bob has decided to do some business with villagers.<br>At first, Bob has N kinds of items indexed from 1 to N, and each item has Ai. There are M ways to exchanges items. For the ith way (Xi, Yi), Bob can exchange one Xith item to one Yith item, vice versa. Now Bob wants that his ith item has exactly Bi, and he wonders what the minimal times of transactions is.   </p>
</li>
<li><p>Input<br>There are multiple test cases.<br>For each test case: the first line contains two integers: N and M (1 &lt; &#x3D; N, M &lt;&#x3D; 100).<br>The next N lines contains two integers: Ai and Bi (1 &lt; &#x3D; Ai, Bi &lt;&#x3D; 10,000).<br>Following M lines contains two integers: Xi and Yi (1 &lt; &#x3D; Xi, Yi &lt;&#x3D; N).<br>There is one empty line between test cases.   </p>
</li>
<li><p>Output<br>For each test case output the minimal times of transactions. If Bob could not reach his goal, output -1 instead.   </p>
</li>
<li><p>Sample Input<br>2 1<br>1 2<br>2 1<br>1 2</p>
</li>
</ul>
<p>4 2<br>1 3<br>2 1<br>3 2<br>2 3<br>1 2<br>3 4   </p>
<ul>
<li>Sample Output<br>1<br>-1</li>
</ul>
</blockquote>
<p>被这题的思维折腾哭了啊，从不可行的二分图，到搜索以及最短路径，再到乱七八糟的区间DP，不知多晚才拾起网络流……<br>伪最短路，RE</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">	<span class="keyword">static</span> <span class="type">int</span>[] a,f;</span><br><span class="line">	<span class="keyword">static</span> <span class="type">int</span>[][] E;</span><br><span class="line">	<span class="keyword">static</span> <span class="type">int</span> maxstep=<span class="number">10000</span>;</span><br><span class="line">	<span class="keyword">static</span> <span class="type">int</span> n,m;</span><br><span class="line">	<span class="keyword">final</span> <span class="keyword">static</span> <span class="type">int</span> pri=<span class="number">17</span>;</span><br><span class="line">	<span class="keyword">static</span> <span class="type">int</span> <span class="title function_">hashCode</span><span class="params">(<span class="type">int</span>[] a)</span>&#123;</span><br><span class="line">		<span class="type">int</span> s1=<span class="number">0</span>,s2=<span class="number">0</span>;</span><br><span class="line">		<span class="type">int</span> len=a.length;</span><br><span class="line">		<span class="comment">/*for(int i=0;i&lt;len;i++)&#123;</span></span><br><span class="line"><span class="comment">			s1*=19;</span></span><br><span class="line"><span class="comment">			s1+=a[i]%19;</span></span><br><span class="line"><span class="comment">		&#125;*/</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;len;i++)&#123;</span><br><span class="line">			s2*=pri;</span><br><span class="line">			s2+=Math.abs(a[i])%pri;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> s2;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">static</span> <span class="type">int</span> <span class="title function_">spfa</span><span class="params">(<span class="type">int</span>[] st)</span>&#123;</span><br><span class="line">		HashMap&lt;Integer, Integer&gt; mp=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;Integer, Integer&gt;();</span><br><span class="line">		BitSet vis=<span class="keyword">new</span> <span class="title class_">BitSet</span>();</span><br><span class="line">		Queue&lt;<span class="type">int</span>[]&gt; que=<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;<span class="type">int</span>[]&gt;();</span><br><span class="line">		que.add(st);</span><br><span class="line">		mp.put(hashCode(st), <span class="number">0</span>);</span><br><span class="line">		vis.set(hashCode(st));</span><br><span class="line">		<span class="keyword">while</span>(!que.isEmpty())&#123;</span><br><span class="line">			<span class="type">int</span>[] u=que.poll();</span><br><span class="line">			<span class="type">int</span> p=mp.get(hashCode(u));</span><br><span class="line">			<span class="keyword">if</span> (p&gt;=maxstep) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)&#123;</span><br><span class="line">				<span class="type">int</span>[] v=u.clone();</span><br><span class="line">				v[E[<span class="number">0</span>][i]]--;</span><br><span class="line">				v[E[<span class="number">1</span>][i]]++;</span><br><span class="line">				<span class="type">int</span> hv=hashCode(v);</span><br><span class="line">				<span class="keyword">if</span> (hv==<span class="number">0</span>) <span class="keyword">return</span> p+<span class="number">1</span>;</span><br><span class="line">				<span class="keyword">if</span> (que.contains(v))&#123;</span><br><span class="line">					<span class="type">int</span> q=mp.get(hv);</span><br><span class="line">					<span class="keyword">if</span> (p+<span class="number">1</span>&lt;q)&#123;</span><br><span class="line">						<span class="comment">//vis.replace(hv, p+1);</span></span><br><span class="line">						mp.remove(hv);</span><br><span class="line">						mp.put(hv, p+<span class="number">1</span>);</span><br><span class="line">						<span class="keyword">if</span> (!vis.get(hv))&#123;</span><br><span class="line">							que.add(v);</span><br><span class="line">							vis.set(hv);</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span>&#123;</span><br><span class="line">					mp.put(hv, p+<span class="number">1</span>);</span><br><span class="line">					<span class="keyword">if</span> (!vis.get(hv))&#123;</span><br><span class="line">						que.add(v);</span><br><span class="line">						vis.set(hv);</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		StreamTokenizer in=<span class="keyword">new</span> <span class="title class_">StreamTokenizer</span>(<span class="keyword">new</span> <span class="title class_">BufferedInputStream</span>(System.in));</span><br><span class="line">		PrintWriter out=<span class="keyword">new</span> <span class="title class_">PrintWriter</span>(System.out);</span><br><span class="line">		<span class="keyword">while</span>(in.nextToken()!=StreamTokenizer.TT_EOF)&#123;</span><br><span class="line">			n=(<span class="type">int</span>)in.nval;</span><br><span class="line">			in.nextToken();</span><br><span class="line">			m=(<span class="type">int</span>)in.nval;</span><br><span class="line">			a=<span class="keyword">new</span> <span class="title class_">int</span>[n+<span class="number">1</span>];</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">				in.nextToken();</span><br><span class="line">				<span class="type">int</span> x=(<span class="type">int</span>)in.nval;</span><br><span class="line">				in.nextToken();</span><br><span class="line">				<span class="type">int</span> y=(<span class="type">int</span>)in.nval;</span><br><span class="line">				a[i]=y-x;</span><br><span class="line">			&#125;</span><br><span class="line">			E=<span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">2</span>][m+<span class="number">1</span>];</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)&#123;</span><br><span class="line">				in.nextToken();</span><br><span class="line">				<span class="type">int</span> u=(<span class="type">int</span>)in.nval;</span><br><span class="line">				in.nextToken();</span><br><span class="line">				<span class="type">int</span> v=(<span class="type">int</span>)in.nval;</span><br><span class="line">				E[<span class="number">0</span>][i]=u;E[<span class="number">1</span>][i]=v;</span><br><span class="line">				<span class="comment">//a[u]--;a[v]++;out.println(hashCode(a));</span></span><br><span class="line">			&#125;</span><br><span class="line">			<span class="type">int</span> res=spfa(a);</span><br><span class="line">			out.println(res);</span><br><span class="line">			out.flush();</span><br><span class="line">		&#125;</span><br><span class="line">		out.close();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>最小费用流，AC</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStreamWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.StreamTokenizer;</span><br><span class="line"><span class="keyword">import</span> java.math.BigInteger;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"><span class="keyword">import</span> java.util.PriorityQueue;</span><br><span class="line"><span class="keyword">import</span> java.util.Queue;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">import</span> java.util.Stack;</span><br><span class="line"><span class="keyword">import</span> java.util.StringTokenizer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.sun.org.apache.regexp.internal.recompile;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">                <span class="type">StreamTokenizer</span> <span class="variable">cin</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StreamTokenizer</span>(<span class="keyword">new</span> <span class="title class_">BufferedInputStream</span>(System.in)); </span><br><span class="line">                <span class="type">InputReader</span> <span class="variable">in</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">InputReader</span>(System.in)  ;</span><br><span class="line">                <span class="type">PrintWriter</span> <span class="variable">out</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PrintWriter</span>(System.out) ;</span><br><span class="line">               </span><br><span class="line">                <span class="keyword">while</span>(cin.nextToken() != cin.TT_EOF)&#123;</span><br><span class="line">                	     <span class="keyword">new</span> <span class="title class_">Task</span>().solve(cin, out)  ;   <span class="comment">//out.flush() ;</span></span><br><span class="line">                &#125;</span><br><span class="line">                </span><br><span class="line">               out.flush() ;</span><br><span class="line">                </span><br><span class="line">                <span class="comment">/*</span></span><br><span class="line"><span class="comment">                int t = in.nextInt() ;</span></span><br><span class="line"><span class="comment">                while(t-- &gt; 0)&#123;</span></span><br><span class="line"><span class="comment">                	      new Task().solve(in , out)  ;</span></span><br><span class="line"><span class="comment">                &#125;</span></span><br><span class="line"><span class="comment">                out.flush() ; </span></span><br><span class="line"><span class="comment">                */</span></span><br><span class="line">        &#125;</span><br><span class="line">     </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Task</span>&#123;</span><br><span class="line">         </span><br><span class="line">	     <span class="keyword">static</span>  <span class="type">int</span>[] a = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">108</span>] ;</span><br><span class="line">	     <span class="keyword">static</span>  <span class="type">int</span>[] b = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">108</span>] ;</span><br><span class="line">	     </span><br><span class="line">	     <span class="keyword">static</span>  ArrayList&lt;Integer&gt;[] adj = <span class="keyword">new</span> <span class="title class_">ArrayList</span>[<span class="number">108</span>] ;</span><br><span class="line">	     </span><br><span class="line">	     <span class="keyword">static</span>  ArrayList&lt;Integer&gt;[] colorg = <span class="keyword">new</span> <span class="title class_">ArrayList</span>[<span class="number">108</span>]  ;</span><br><span class="line">	     <span class="keyword">static</span>  <span class="type">int</span>[] color = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">108</span>] ;</span><br><span class="line">	     </span><br><span class="line">	     <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> u , <span class="type">int</span> c)</span>&#123;</span><br><span class="line">	    	      color[u] = c ;</span><br><span class="line">	    	      colorg[c].add(u) ;</span><br><span class="line">	    	      <span class="keyword">for</span>(<span class="type">int</span> v : adj[u])&#123;</span><br><span class="line">	    	    	     <span class="keyword">if</span>(color[v] == -<span class="number">1</span>) dfs(v , c) ; </span><br><span class="line">	    	      &#125;</span><br><span class="line">	     &#125;</span><br><span class="line">	     </span><br><span class="line">	     </span><br><span class="line">	     <span class="type">int</span>[]  dist = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">108</span>] ;</span><br><span class="line">	     <span class="type">boolean</span>[] in = <span class="keyword">new</span> <span class="title class_">boolean</span>[<span class="number">108</span>] ;</span><br><span class="line">	     </span><br><span class="line">	     <span class="keyword">void</span>  <span class="title function_">spfa</span><span class="params">(<span class="type">int</span> s)</span>&#123;</span><br><span class="line">	    	       Arrays.fill(dist, Integer.MAX_VALUE) ;</span><br><span class="line">	    	       dist[s] = <span class="number">0</span> ;</span><br><span class="line">	    	       Arrays.fill(in, <span class="literal">false</span>) ;</span><br><span class="line">	    	       in[s] = <span class="literal">true</span> ;</span><br><span class="line">	    	       Queue&lt;Integer&gt; q = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;Integer&gt;() ;</span><br><span class="line">	    	       q.add(s) ;</span><br><span class="line">	    	       <span class="keyword">while</span>(! q.isEmpty())&#123;</span><br><span class="line">	    	    	       <span class="type">int</span> <span class="variable">u</span> <span class="operator">=</span> q.poll()  ;   in[u] = <span class="literal">false</span> ;</span><br><span class="line">	    	    	       <span class="keyword">for</span>(<span class="type">int</span> v : adj[u])&#123;</span><br><span class="line">	    	    	    	         <span class="keyword">if</span>(dist[u] + <span class="number">1</span> &lt; dist[v])&#123;</span><br><span class="line">	    	    	    	        	    dist[v] = dist[u] + <span class="number">1</span> ;</span><br><span class="line">	    	    	    	        	    <span class="keyword">if</span>(! in[v])&#123;</span><br><span class="line">	    	    	    	        	    	    in[v] = <span class="literal">true</span> ; q.add(v) ;</span><br><span class="line">	    	    	    	        	    &#125;</span><br><span class="line">	    	    	    	         &#125;</span><br><span class="line">	    	    	       &#125;</span><br><span class="line">	    	       &#125;</span><br><span class="line">	     &#125;</span><br><span class="line">          </span><br><span class="line">	      <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">solve</span><span class="params">(StreamTokenizer  cin , PrintWriter out)</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">		    	    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span>  (<span class="type">int</span>) cin.nval ;</span><br><span class="line">	                cin.nextToken() ; <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> (<span class="type">int</span>) cin.nval ;</span><br><span class="line">	 	      </span><br><span class="line">	                <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span> ; i &lt;= n ; i++)&#123;</span><br><span class="line">	                   	    cin.nextToken() ; a[i] = (<span class="type">int</span>) cin.nval ;</span><br><span class="line">	                        cin.nextToken() ; b[i] = (<span class="type">int</span>) cin.nval ;</span><br><span class="line">	                &#125;</span><br><span class="line">	                </span><br><span class="line">	                </span><br><span class="line">	                <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span> ; i &lt;= n ; i++) adj[i] = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Integer&gt;() ;</span><br><span class="line">	         </span><br><span class="line">	                </span><br><span class="line">	                <span class="keyword">while</span>(m-- &gt; <span class="number">0</span>)&#123;</span><br><span class="line">	             	      cin.nextToken() ;  <span class="type">int</span> <span class="variable">u</span> <span class="operator">=</span> (<span class="type">int</span>) cin.nval ;</span><br><span class="line">	             	      cin.nextToken() ;  <span class="type">int</span> <span class="variable">v</span> <span class="operator">=</span> (<span class="type">int</span>) cin.nval ;</span><br><span class="line">	             	      adj[u].add(v) ;</span><br><span class="line">	             	      adj[v].add(u) ;</span><br><span class="line">	                &#125;</span><br><span class="line">	                </span><br><span class="line">	                Arrays.fill(color, -<span class="number">1</span>) ;</span><br><span class="line">	                <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span> ; i &lt;= n ; i++) colorg[i] = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Integer&gt;() ;</span><br><span class="line">	                </span><br><span class="line">	                <span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">0</span> ; </span><br><span class="line">	                <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span> ; i &lt;= n ; i++)&#123;</span><br><span class="line">	             	      <span class="keyword">if</span>(color[i] == -<span class="number">1</span>)&#123;</span><br><span class="line">	             	    	    dfs(i , k++) ;</span><br><span class="line">	             	      &#125;</span><br><span class="line">	                &#125;</span><br><span class="line">	                </span><br><span class="line">	                <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span> ;</span><br><span class="line">	                <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span> ; i &lt; k ; i++)&#123;</span><br><span class="line">	             	        <span class="type">int</span> <span class="variable">sa</span> <span class="operator">=</span> <span class="number">0</span> , sb = <span class="number">0</span> ;</span><br><span class="line">	             	        <span class="keyword">for</span>(<span class="type">int</span> u : colorg[i])&#123;</span><br><span class="line">	             	        	     sa += a[u] ;</span><br><span class="line">	             	        	     sb += b[u] ;</span><br><span class="line">	             	        	     sum += Math.abs(a[u] - b[u]) ;</span><br><span class="line">	             	        &#125;</span><br><span class="line">	             	        <span class="keyword">if</span>(sa != sb)&#123;</span><br><span class="line">	             	        	    out.println(-<span class="number">1</span>) ;</span><br><span class="line">	             	             	<span class="keyword">return</span>  ;</span><br><span class="line">	             	        &#125; </span><br><span class="line">	                &#125;</span><br><span class="line">	                </span><br><span class="line">	                   ArrayList&lt;Integer&gt; adx = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Integer&gt;() ; </span><br><span class="line">	                   ArrayList&lt;Integer&gt; ady = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Integer&gt;() ; </span><br><span class="line">	                   <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span> ; i &lt;= n ; i++)&#123;</span><br><span class="line">	                           <span class="keyword">if</span>(a[i] &gt; b[i]) </span><br><span class="line">	                        	       adx.add(i) ;</span><br><span class="line">	                           <span class="keyword">else</span> <span class="keyword">if</span>(a[i] &lt; b[i])</span><br><span class="line">	                        	       ady.add(i) ;       </span><br><span class="line">	                   &#125;</span><br><span class="line">	                   </span><br><span class="line">	                   </span><br><span class="line">	                   <span class="type">int</span> N= adx.size() ;</span><br><span class="line">	                   <span class="type">int</span> M= ady.size() ;</span><br><span class="line">	                   <span class="type">Mincostflow</span> <span class="variable">mcf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Mincostflow</span>(<span class="number">0</span> , <span class="number">2</span>*N+<span class="number">2</span>*M+<span class="number">1</span>)  ;</span><br><span class="line">	                   </span><br><span class="line">	                   <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span> ; i &lt;= N ; i++)&#123;</span><br><span class="line">	                	      <span class="type">int</span> <span class="variable">u</span> <span class="operator">=</span> adx.get(i-<span class="number">1</span>) ; </span><br><span class="line">	                	      mcf.add(i, N + i, a[u] - b[u] , <span class="number">0</span>)  ;</span><br><span class="line">	                	      mcf.add(<span class="number">0</span>, i, Integer.MAX_VALUE , <span class="number">0</span>) ;</span><br><span class="line">	                   &#125;</span><br><span class="line">	                   </span><br><span class="line">	                   <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span> ; i &lt;= M ; i++)&#123;</span><br><span class="line">	                	      <span class="type">int</span> <span class="variable">u</span> <span class="operator">=</span> ady.get(i-<span class="number">1</span>) ; </span><br><span class="line">	                	      mcf.add(<span class="number">2</span>*N + i, <span class="number">2</span>*N +  M +  i, b[u] - a[u] , <span class="number">0</span> )  ;</span><br><span class="line">	                	      mcf.add(<span class="number">2</span>*N+M+i , <span class="number">2</span>*N+<span class="number">2</span>*M+<span class="number">1</span>, Integer.MAX_VALUE , <span class="number">0</span>) ;</span><br><span class="line">	                   &#125;</span><br><span class="line">	                   </span><br><span class="line">	                   <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span> ; i &lt;= adx.size() ; i++)&#123;</span><br><span class="line">	                	       <span class="type">int</span> <span class="variable">u</span> <span class="operator">=</span> adx.get(i-<span class="number">1</span>) ;</span><br><span class="line">	                	       spfa(u) ;</span><br><span class="line">	                	       </span><br><span class="line">	                	       <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span> ; j &lt;= ady.size() ; j++)&#123;</span><br><span class="line">	                	    	       <span class="type">int</span> <span class="variable">v</span> <span class="operator">=</span> ady.get(j-<span class="number">1</span>) ;</span><br><span class="line">	                	    	       <span class="keyword">if</span>(dist[v] == Integer.MAX_VALUE) <span class="keyword">continue</span> ;		   </span><br><span class="line">	                	    	       mcf.add(N+i, <span class="number">2</span>*N+j, Integer.MAX_VALUE, dist[v] )  ;</span><br><span class="line">	                	       &#125;</span><br><span class="line">	                	       </span><br><span class="line">	                   &#125;</span><br><span class="line">	                </span><br><span class="line">	                </span><br><span class="line">	                </span><br><span class="line">	                   out.println(mcf.mincostflow()) ;</span><br><span class="line">		                   </span><br><span class="line">	            </span><br><span class="line">	      &#125;</span><br><span class="line">      </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Mincostflow</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Mincostflow</span><span class="params">(<span class="type">int</span> sourse , <span class="type">int</span> meet)</span>&#123;</span><br><span class="line">		         <span class="built_in">this</span>.source = sourse ;</span><br><span class="line">		         <span class="built_in">this</span>.meet = meet ;</span><br><span class="line">		         Arrays.fill(g, <span class="number">0</span>) ;</span><br><span class="line">			     id = <span class="number">1</span> ;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">maxn</span> <span class="operator">=</span> <span class="number">5000</span> , maxm = <span class="number">50000</span> ;</span><br><span class="line">	<span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Edge</span>&#123;</span><br><span class="line">	       <span class="type">int</span> v , f , w , next ;</span><br><span class="line">	       Edge()&#123;&#125;</span><br><span class="line">	       Edge(<span class="type">int</span> _v , <span class="type">int</span> _f , <span class="type">int</span> _w , <span class="type">int</span> _next)&#123;</span><br><span class="line">	    	        <span class="built_in">this</span>.v = _v ;</span><br><span class="line">	    	        <span class="built_in">this</span>.f = _f ;</span><br><span class="line">	    	        <span class="built_in">this</span>.w = _w ;</span><br><span class="line">	    	        <span class="built_in">this</span>.next = _next ;</span><br><span class="line">	       &#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">static</span> <span class="type">int</span>[]  g = <span class="keyword">new</span> <span class="title class_">int</span>[maxn + <span class="number">10</span>] ;</span><br><span class="line">	<span class="keyword">static</span> Edge[] e = <span class="keyword">new</span> <span class="title class_">Edge</span>[maxm + <span class="number">10</span>] ;</span><br><span class="line">	<span class="type">int</span>  source , meet ;</span><br><span class="line">	<span class="type">int</span>  id ;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">void</span>  <span class="title function_">add</span><span class="params">(<span class="type">int</span> u , <span class="type">int</span> v  , <span class="type">int</span> f , <span class="type">int</span> w)</span>&#123;</span><br><span class="line">	      e[++id] = <span class="keyword">new</span> <span class="title class_">Edge</span>(v , f , w , g[u]) ;</span><br><span class="line">	      g[u] = id ;</span><br><span class="line">	      e[++id] = <span class="keyword">new</span> <span class="title class_">Edge</span>(u , <span class="number">0</span> , -w , g[v]) ;</span><br><span class="line">	      g[v] = id ;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	Queue&lt;Integer&gt; que  = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;Integer&gt;() ;</span><br><span class="line">	<span class="keyword">static</span> <span class="type">boolean</span>[] in = <span class="keyword">new</span> <span class="title class_">boolean</span>[maxn + <span class="number">10</span>] ;</span><br><span class="line">	<span class="keyword">static</span> <span class="type">int</span>[]  dist = <span class="keyword">new</span> <span class="title class_">int</span>[maxn + <span class="number">10</span>] ;</span><br><span class="line">	<span class="keyword">static</span> <span class="type">int</span>[]  pv = <span class="keyword">new</span> <span class="title class_">int</span>[maxn + <span class="number">10</span>] ;</span><br><span class="line">	<span class="keyword">static</span> <span class="type">int</span>[]  pe = <span class="keyword">new</span> <span class="title class_">int</span>[maxn + <span class="number">10</span>] ;</span><br><span class="line"></span><br><span class="line">	<span class="type">boolean</span> <span class="title function_">bfs</span><span class="params">()</span>&#123;</span><br><span class="line">	     <span class="keyword">while</span>(! que.isEmpty()) que.poll() ;</span><br><span class="line">	     que.add(source) ;</span><br><span class="line">	     Arrays.fill(dist, Integer.MAX_VALUE) ;</span><br><span class="line">	     dist[source] = <span class="number">0</span>  ;</span><br><span class="line">	     in[source] = <span class="literal">true</span> ;</span><br><span class="line">	     <span class="keyword">while</span>(! que.isEmpty())&#123;</span><br><span class="line">	           <span class="type">int</span> <span class="variable">u</span> <span class="operator">=</span> que.poll() ;</span><br><span class="line">	           in[u] = <span class="literal">false</span> ;</span><br><span class="line">	           <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> g[u] ; i &gt; <span class="number">0</span>; i = e[i].next)&#123;</span><br><span class="line">	                <span class="type">int</span>  <span class="variable">v</span> <span class="operator">=</span> e[i].v ;</span><br><span class="line">	                <span class="keyword">if</span>(e[i].f &gt; <span class="number">0</span> &amp;&amp; dist[u] + e[i].w &lt; dist[v])&#123;</span><br><span class="line">	                      dist[v] = dist[u] + e[i].w ;</span><br><span class="line">	                      pv[v] = u ;</span><br><span class="line">	                      pe[v] = i ;</span><br><span class="line">	                      <span class="keyword">if</span>(! in[v])&#123;</span><br><span class="line">	                            in[v] = <span class="literal">true</span> ;  que.add(v) ;</span><br><span class="line">	                      &#125;</span><br><span class="line">	                &#125;</span><br><span class="line">	           &#125;</span><br><span class="line">	     &#125;</span><br><span class="line">	     <span class="keyword">return</span>  dist[meet] &lt; Integer.MAX_VALUE  ;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span>  <span class="title function_">augment</span><span class="params">()</span>&#123;</span><br><span class="line">	     <span class="type">int</span> <span class="variable">u</span> <span class="operator">=</span> meet  ;</span><br><span class="line">	     <span class="type">int</span> <span class="variable">delta</span> <span class="operator">=</span> Integer.MAX_VALUE ;</span><br><span class="line">	     <span class="keyword">while</span>(u != source)&#123;</span><br><span class="line">	           delta = Math.min(delta , e[pe[u]].f) ;</span><br><span class="line">	           u = pv[u] ;</span><br><span class="line">	     &#125;</span><br><span class="line">	     u = meet ;</span><br><span class="line">	     <span class="keyword">while</span>(u != source)&#123;</span><br><span class="line">	           e[pe[u]].f -= delta ;</span><br><span class="line">	           e[pe[u] ^ <span class="number">1</span>].f += delta ;</span><br><span class="line">	           u = pv[u] ;</span><br><span class="line">	     &#125;</span><br><span class="line">	     <span class="keyword">return</span> dist[meet] * delta ;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span>  <span class="title function_">mincostflow</span><span class="params">()</span>&#123;</span><br><span class="line">	     <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">0</span> ;</span><br><span class="line">	     <span class="keyword">while</span>(bfs())  ans += augment() ;</span><br><span class="line">	     <span class="keyword">return</span> ans ;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">InputReader</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> BufferedReader reader;</span><br><span class="line">    <span class="keyword">public</span> StringTokenizer tokenizer;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">InputReader</span><span class="params">(InputStream stream)</span>&#123;</span><br><span class="line">           reader = <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(stream), <span class="number">32768</span>);</span><br><span class="line">           tokenizer = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">next</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(tokenizer == <span class="literal">null</span> || !tokenizer.hasMoreTokens())&#123;</span><br><span class="line">            <span class="keyword">try</span>&#123;</span><br><span class="line">                tokenizer = <span class="keyword">new</span> <span class="title class_">StringTokenizer</span>(reader.readLine());</span><br><span class="line">            &#125;<span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> tokenizer.nextToken();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">nextInt</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Integer.parseInt(next());</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">long</span> <span class="title function_">nextLong</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Long.parseLong(next());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="H-Twelves-Monkeys"><a href="#H-Twelves-Monkeys" class="headerlink" title="H.Twelves Monkeys"></a>H.Twelves Monkeys</h1><blockquote>
<p>Time Limit: 5 Seconds      Memory Limit: 32768 KB   </p>
<ul>
<li><p>Problem Description<br>James Cole is a convicted criminal living beneath a post-apocalyptic Philadelphia. Many years ago, the Earth’s surface had been contaminated by a virus so deadly that it forced the survivors to move underground. In the years that followed, scientists had engineered an imprecise form of time travel. To earn a pardon, Cole allows scientists to send him on dangerous missions to the past to collect information on the virus, thought to have been released by a terrorist organization known as the Army of the Twelve Monkeys.<br>The time travel is powerful so that sicentists can send Cole from year x[i] back to year y[i]. Eventually, Cole finds that Goines is the founder of the Army of the Twelve Monkeys, and set out in search of him. When they find and confront him, however, Goines denies any involvement with the viruscan. After that, Cole goes back and tells scientists what he knew. He wants to quit the mission to enjoy life. He wants to go back to the any year before current year, but scientists only allow him to use time travel once. In case of failure, Cole will find at least one route for backup. Please help him to calculate how many years he can go with at least two routes.   </p>
</li>
<li><p>Input<br>The input file contains multiple test cases.<br>The first line contains three integers n,m,q(1≤ n ≤ 50000, 1≤ m ≤ 50000, 1≤ q ≤ 50000), indicating the maximum year, the number of time travel path and the number of queries.<br>The following m lines contains two integers x,y(1≤ y ≤ x ≤ 50000) indicating Cole can travel from year x to year y.<br>The following q lines contains one integers p(1≤ p ≤ n) indicating the year Cole is at now   </p>
</li>
<li><p>Output<br>For each test case, you should output one line, contain a number which is the total number of the year Cole can go.   </p>
</li>
<li><p>Sample Input<br>9 3 3<br>9 1<br>6 1<br>4 1<br>6<br>7<br>2   </p>
</li>
<li><p>Sample Output<br>5<br>0<br>1   </p>
</li>
<li><p>Hint<br>6 can go back to 1 for two route. One is 6-1, the other is 6-7-8-9-1. 6 can go back to 2 for two route. One is 6-1-2, the other is 6-7-8-9-1-2.</p>
</li>
</ul>
</blockquote>
<p>多好的静态区间查询啊，可是不好好写O(n)，写O(n^2)的就TLE。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; &gt; vec;</span><br><span class="line"><span class="type">int</span> n,m,q;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">bisearch</span><span class="params">(<span class="type">int</span> key)</span></span>&#123;</span><br><span class="line">		<span class="type">int</span> l=<span class="number">1</span>,r=m<span class="number">+1</span>,mid=<span class="number">1</span>,a;</span><br><span class="line">		<span class="keyword">while</span>(l&lt;r<span class="number">-1</span>)&#123;</span><br><span class="line">			mid=(l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">			a=vec[mid<span class="number">-1</span>].first;</span><br><span class="line">			<span class="keyword">if</span> (a&lt;=key)</span><br><span class="line">				l=mid;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">				r=mid;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (vec[l<span class="number">-1</span>].first&lt;key) <span class="keyword">return</span> l;</span><br><span class="line">		<span class="keyword">return</span> l<span class="number">-1</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>,&amp;n,&amp;m,&amp;q))&#123;</span><br><span class="line">			vec.<span class="built_in">clear</span>();</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)&#123;</span><br><span class="line">				<span class="type">int</span> u,v;</span><br><span class="line">				<span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;u,&amp;v);</span><br><span class="line">				vec.<span class="built_in">push_back</span>(<span class="built_in">make_pair</span>(u,v));</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="built_in">sort</span>(vec.<span class="built_in">begin</span>(),vec.<span class="built_in">end</span>());</span><br><span class="line">			<span class="comment">//for(int i=0;i&lt;m;i++) printf(&quot;%d:%d %d\n&quot;,i+1,vec[i].first,vec[i].second);</span></span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=q;i++)&#123;</span><br><span class="line">				<span class="type">int</span> p;</span><br><span class="line">				<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;p);</span><br><span class="line">				<span class="type">int</span> h=<span class="built_in">bisearch</span>(p);</span><br><span class="line">				<span class="keyword">if</span> (m-h&lt;<span class="number">2</span>)&#123;</span><br><span class="line">					<span class="built_in">puts</span>(<span class="string">&quot;0&quot;</span>);</span><br><span class="line">					<span class="keyword">continue</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="type">int</span> min1,min2;</span><br><span class="line">				min1=min2=p;</span><br><span class="line">				<span class="keyword">for</span>(<span class="type">int</span> j=h;j&lt;m;j++)&#123;</span><br><span class="line">					<span class="type">int</span> k=vec[j].second;</span><br><span class="line">					<span class="keyword">if</span> (k&lt;min1)</span><br><span class="line">                    &#123;</span><br><span class="line">                        min2=min1;min1=k;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span></span><br><span class="line">                        min2=<span class="built_in">min</span>(min2,k);</span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">				<span class="comment">//sort(v.begin(),v.end());</span></span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,p-min2);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>用线段树查询区间次小值也可行，但是从后往前处理跟方便，而且一次性完成。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 2015年7月30日 上午10:02:07</span></span><br><span class="line"><span class="comment"> * PrjName:zoj3888</span></span><br><span class="line"><span class="comment"> * @ Semprathlon</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">	<span class="keyword">static</span> <span class="type">int</span>[][] f;</span><br><span class="line">	<span class="keyword">final</span> <span class="keyword">static</span> <span class="type">int</span> maxn=<span class="number">50010</span>;</span><br><span class="line">	<span class="keyword">static</span> Vector&lt;Vector&lt;Integer&gt;&gt; a=<span class="keyword">new</span> <span class="title class_">Vector</span>&lt;Vector&lt;Integer&gt;&gt;();</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		StreamTokenizer in=<span class="keyword">new</span> <span class="title class_">StreamTokenizer</span>(<span class="keyword">new</span> <span class="title class_">BufferedInputStream</span>(System.in));</span><br><span class="line">		PrintWriter out=<span class="keyword">new</span> <span class="title class_">PrintWriter</span>(System.out);</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;maxn;i++)</span><br><span class="line">			a.add(<span class="keyword">new</span> <span class="title class_">Vector</span>&lt;Integer&gt;());</span><br><span class="line">		<span class="keyword">while</span>(in.nextToken()!=StreamTokenizer.TT_EOF)&#123;</span><br><span class="line">			<span class="type">int</span> n=(<span class="type">int</span>)in.nval;</span><br><span class="line">			in.nextToken();</span><br><span class="line">			<span class="type">int</span> m=(<span class="type">int</span>)in.nval;</span><br><span class="line">			in.nextToken();</span><br><span class="line">			<span class="type">int</span> q=(<span class="type">int</span>)in.nval;</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">				a.get(i-<span class="number">1</span>).clear();</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)&#123;</span><br><span class="line">				in.nextToken();</span><br><span class="line">				<span class="type">int</span> u=(<span class="type">int</span>)in.nval;</span><br><span class="line">				in.nextToken();</span><br><span class="line">				<span class="type">int</span> v=(<span class="type">int</span>)in.nval;</span><br><span class="line">				a.get(u-<span class="number">1</span>).add(v);</span><br><span class="line">			&#125;</span><br><span class="line">			f=<span class="keyword">new</span> <span class="title class_">int</span>[n+<span class="number">2</span>][<span class="number">2</span>];</span><br><span class="line">			f[n+<span class="number">1</span>][<span class="number">0</span>]=f[n+<span class="number">1</span>][<span class="number">1</span>]=n+<span class="number">1</span>;</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> i=n;i&gt;<span class="number">0</span>;i--)&#123;</span><br><span class="line">				f[i][<span class="number">0</span>]=Math.min(i, f[i+<span class="number">1</span>][<span class="number">0</span>]);</span><br><span class="line">				f[i][<span class="number">1</span>]=Math.min(i, f[i+<span class="number">1</span>][<span class="number">1</span>]);</span><br><span class="line">				Vector&lt;Integer&gt; v=a.get(i-<span class="number">1</span>);</span><br><span class="line">				<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;v.size();j++)</span><br><span class="line">					<span class="keyword">if</span> (v.get(j)&lt;=f[i][<span class="number">0</span>])&#123;</span><br><span class="line">						f[i][<span class="number">1</span>]=f[i][<span class="number">0</span>];f[i][<span class="number">0</span>]=v.get(j);</span><br><span class="line">					&#125;</span><br><span class="line">					<span class="keyword">else</span></span><br><span class="line">						f[i][<span class="number">1</span>]=Math.min(f[i][<span class="number">1</span>], v.get(j));</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">while</span>(q--&gt;<span class="number">0</span>)&#123;</span><br><span class="line">				in.nextToken();</span><br><span class="line">				<span class="type">int</span> p=(<span class="type">int</span>)in.nval;</span><br><span class="line">				out.println(p-f[p][<span class="number">1</span>]);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		out.flush();</span><br><span class="line">		out.close();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="J-Wumpus"><a href="#J-Wumpus" class="headerlink" title="J.Wumpus"></a>J.Wumpus</h1><blockquote>
<p>Time Limit: 2 Seconds      Memory Limit: 65536 KB   </p>
<ul>
<li>Problem Description<br>One day Leon finds a very classic game called Wumpus.The game is as follow.<br>Once an agent fell into a cave. The legend said that in this cave lived a kind of monster called Wumpus, and there were horrible pits which could lead to death everywhere. However, there were also a huge amount of gold in the cave. The agent must be careful and sensitive so that he could grab all of the gold and climb out of the cave safely.<br>The cave can be regarded as a n*n board. In each square there could be a Wumpus, a pit, a brick of gold, or nothing. The agent would be at position (0,0) at first and headed right.(As the picture below)</li>
</ul>
<img src="http://acm.zju.edu.cn/onlinejudge/showImage.do?name=Wumpus1.png" width="700" height="540" class="alignnone" />   
For each step, there are six possible movements including going forward, turning left, turning right, shooting, grabbing the gold, and climbing out of the cave. If the agent steps into a square containing a pit or Wumpus, he will die. When the agent shoots, the Wumpus in front of him will die. The goal of the agent is to grab all of the gold and return to the starting position and climb out(it's OK if any Wumpus is still living).When a brick of gold is grabbed successfully, you will gain 1000 points. For each step you take, you will lose 10 points.   
Your job is to help him compute the highest point he can possibly get.   
For the purpose of simplification, we suppose that there is only one brick of gold and the agent cannot shoot the Wumpus.   
If there is a pit at (0, 0), the agent dies immediately. There will not be a Wumpus at (0, 0).   

<p>Input<br>There are multiple cases. The first line will contain one integer k that indicates the number of cases.<br>For each case:<br>The first line will contain one integer n (n &lt; &#x3D; 20).<br>The following lines will contain three integers, each line shows a position of an object. The first one indicates the type of the object. 1 for Wumpus, 2 for pit and 3 for gold. Then the next two integers show the x and y coordinates of the object.<br>The input end with -1 -1 -1. (It is guaranteed that no two things appear in one position.)   </p>
<p>Output<br>The output contains one line with one integer, which is the highest point Leon could possibly get. If he cannot finish the game with a non-negative score, print “-1”.   </p>
<p>Sample Input<br>2<br>3<br>1 1 1<br>2 2 0<br>3 2 2<br>-1 -1 -1<br>3<br>1 1 1<br>3 2 2<br>-1 -1 -1   </p>
<p>Sample Output<br>850<br>870   </p>
<p>Hint<br>For the sample 1, the following steps are taken:<br>turn left, forward, forward, turn right, forward, forward, grab, turn left, turn left, forward, forward, turn left, forward, forward, climb.<br>There are in all 15 steps, so the final score is 840. For the sample 2 , the path is as follow:<br><img src="http://acm.zju.edu.cn/onlinejudge/showImage.do?name=Wumpus2.png" width="700" height="540" class="alignnone" />   </p>
</blockquote>
<p>一来一去的搜索……</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2015-07-26T11:44:06.000Z" title="7/26/2015, 11:44:06 AM">07/26/2015</time></span><span class="level-item">Updated&nbsp;<time dateTime="2025-08-18T06:23:06.888Z" title="8/18/2025, 6:23:06 AM">08/18/2025</time></span><span class="level-item"> Semprathlon / Simfae Dean </span><span class="level-item"><a class="link-muted" href="/categories/ACM-ICPC/">ACM-ICPC</a><span> / </span><a class="link-muted" href="/categories/ACM-ICPC/Programing/">Programing</a></span><span class="level-item">2 minutes read (About 239 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/posts/de536c8e/">BestCoder 1st Anniversary T_T</a></p><div class="content"><h1 id="1001-Souvenir"><a href="#1001-Souvenir" class="headerlink" title="1001 Souvenir"></a><a target="_blank" rel="noopener" href="http://acm.hdu.edu.cn/showproblem.php?pid=5310">1001 Souvenir</a></h1><p>Time Limit: 2000&#x2F;1000 MS (Java&#x2F;Others)  Memory Limit: 262144&#x2F;262144 K (Java&#x2F;Others)    </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 2015年7月25日 下午7:07:41</span></span><br><span class="line"><span class="comment"> * PrjName:0725-01</span></span><br><span class="line"><span class="comment"> * @ Semprathlon</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">        InputReader in=<span class="keyword">new</span> <span class="title class_">InputReader</span>(System.in);</span><br><span class="line">        PrintWriter out=<span class="keyword">new</span> <span class="title class_">PrintWriter</span>(System.out);</span><br><span class="line">        <span class="type">int</span> T=in.nextInt();</span><br><span class="line">        <span class="keyword">while</span>(T--&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="type">int</span> n=in.nextInt();</span><br><span class="line">            <span class="type">int</span> m=in.nextInt();</span><br><span class="line">            <span class="type">int</span> p=in.nextInt();</span><br><span class="line">            <span class="type">int</span> q=in.nextInt();</span><br><span class="line">            <span class="type">int</span> ans=<span class="number">0</span>,has=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span> (m*p&gt;q)</span><br><span class="line">                ans+=n/m*q;</span><br><span class="line">            <span class="keyword">else</span> ans+=n/m*m*p;</span><br><span class="line">            ans+=n%m*p;</span><br><span class="line">            <span class="keyword">if</span> ((n+m)/m*q&lt;ans) ans=(n+m)/m*q;</span><br><span class="line">            out.println(ans);</span><br><span class="line">        &#125;</span><br><span class="line">        out.flush();</span><br><span class="line">        out.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="1002-Hidden-String"><a href="#1002-Hidden-String" class="headerlink" title="1002 Hidden String"></a><a target="_blank" rel="noopener" href="http://acm.hdu.edu.cn/showproblem.php?pid=5311">1002 Hidden String</a></h1><p>Time Limit: 2000&#x2F;1000 MS (Java&#x2F;Others) Memory Limit: 262144&#x2F;262144 K (Java&#x2F;Others)<br>用Trie做查询时，往死胡同里钻而且根本停不下来，啊啊啊啊……    </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="type">char</span> s[<span class="number">200</span>], con[] = <span class="string">&quot;anniversary&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> T;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;T);</span><br><span class="line">    <span class="keyword">while</span>(T--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, s);</span><br><span class="line">        <span class="type">int</span> len = <span class="built_in">strlen</span>(s);</span><br><span class="line">        <span class="type">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">8</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = i + <span class="number">1</span>; j &lt;= <span class="number">9</span>; j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">int</span> k = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">while</span>(k &lt; len &amp;&amp; <span class="built_in">strncmp</span>(con, s + k, i + <span class="number">1</span>) != <span class="number">0</span>)</span><br><span class="line">                    k ++;</span><br><span class="line">                <span class="keyword">if</span>(k == len) </span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                k += i + <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">while</span>(k &lt; len &amp;&amp; <span class="built_in">strncmp</span>(con + i + <span class="number">1</span>, s + k, j - i) != <span class="number">0</span>)</span><br><span class="line">                    k ++;</span><br><span class="line">                <span class="keyword">if</span>(k == len) </span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                k += j - i;</span><br><span class="line">                <span class="keyword">while</span>(k &lt; len &amp;&amp; <span class="built_in">strncmp</span>(con + j + <span class="number">1</span>, s + k, <span class="number">10</span> - j) != <span class="number">0</span>)</span><br><span class="line">                    k ++;</span><br><span class="line">                <span class="keyword">if</span>(k != len)</span><br><span class="line">                &#123;</span><br><span class="line">                    flag = <span class="literal">true</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(flag) </span><br><span class="line">            <span class="built_in">puts</span>(<span class="string">&quot;YES&quot;</span>);</span><br><span class="line">        <span class="keyword">else</span> </span><br><span class="line">            <span class="built_in">puts</span>(<span class="string">&quot;NO&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这里的枚举倒是简洁得出奇。 </p>
<h1 id="1003-Sequence"><a href="#1003-Sequence" class="headerlink" title="1003 Sequence"></a><a target="_blank" rel="noopener" href="http://acm.hdu.edu.cn/showproblem.php?pid=5312">1003 Sequence</a></h1><p>Time Limit: 2000&#x2F;2000 MS (Java&#x2F;Others) Memory Limit: 262144&#x2F;262144 K (Java&#x2F;Others)<br>下意识地做了贪心，果然被hack</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2015-07-24T15:15:47.000Z" title="7/24/2015, 3:15:47 PM">07/24/2015</time></span><span class="level-item">Updated&nbsp;<time dateTime="2025-08-18T06:23:06.889Z" title="8/18/2025, 6:23:06 AM">08/18/2025</time></span><span class="level-item"> Semprathlon / Simfae Dean </span><span class="level-item"><a class="link-muted" href="/categories/ACM-ICPC/">ACM-ICPC</a><span> / </span><a class="link-muted" href="/categories/ACM-ICPC/Programing/">Programing</a></span><span class="level-item">a minute read (About 160 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/posts/8b198553/">hdu 3853 LOOPS 递推求期望</a></p><div class="content"><h1 id="hdu-3853-LOOPS"><a href="#hdu-3853-LOOPS" class="headerlink" title="hdu 3853 LOOPS"></a><a target="_blank" rel="noopener" href="http://acm.hdu.edu.cn/showproblem.php?pid=3853">hdu 3853 LOOPS</a></h1><p>计算期望，往往是从末状态到初状态倒推的，相见恨晚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> MAXN=<span class="number">1010</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">double</span> eps=<span class="number">1e-5</span>;</span><br><span class="line"><span class="type">double</span> dp[MAXN][MAXN];</span><br><span class="line"><span class="type">double</span> p1[MAXN][MAXN];</span><br><span class="line"><span class="type">double</span> p2[MAXN][MAXN];</span><br><span class="line"><span class="type">double</span> p3[MAXN][MAXN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> R,C;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;R,&amp;C)!=EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=R;i++)</span><br><span class="line">          <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=C;j++)</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%lf%lf%lf&quot;</span>,&amp;p1[i][j],&amp;p2[i][j],&amp;p3[i][j]);</span><br><span class="line">        dp[R][C]=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=R;i&gt;=<span class="number">1</span>;i--)</span><br><span class="line">          <span class="keyword">for</span>(<span class="type">int</span> j=C;j&gt;=<span class="number">1</span>;j--)</span><br><span class="line">          &#123;</span><br><span class="line">              <span class="keyword">if</span>(i==R&amp;&amp;j==C)<span class="keyword">continue</span>;</span><br><span class="line">              <span class="keyword">if</span>(<span class="built_in">fabs</span>(<span class="number">1</span>-p1[i][j])&lt;eps)<span class="keyword">continue</span>;</span><br><span class="line">              dp[i][j]=p2[i][j]/(<span class="number">1</span>-p1[i][j])*dp[i][j<span class="number">+1</span>]+p3[i][j]/(<span class="number">1</span>-p1[i][j])*dp[i<span class="number">+1</span>][j]<span class="number">+2</span>/(<span class="number">1</span>-p1[i][j]);</span><br><span class="line">          &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%.3lf\n&quot;</span>,dp[<span class="number">1</span>][<span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2015-07-24T11:12:44.000Z" title="7/24/2015, 11:12:44 AM">07/24/2015</time></span><span class="level-item">Updated&nbsp;<time dateTime="2025-08-18T06:23:06.889Z" title="8/18/2025, 6:23:06 AM">08/18/2025</time></span><span class="level-item"> Semprathlon / Simfae Dean </span><span class="level-item"><a class="link-muted" href="/categories/ACM-ICPC/">ACM-ICPC</a><span> / </span><a class="link-muted" href="/categories/ACM-ICPC/Programing/">Programing</a></span><span class="level-item">a minute read (About 133 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/posts/19dec2a1/">2015 Multi-University Training Contest 2</a></p><div class="content"><h1 id="1002-Buildings"><a href="#1002-Buildings" class="headerlink" title="1002 Buildings"></a><a target="_blank" rel="noopener" href="http://acm.hdu.edu.cn/showproblem.php?pid=5301">1002 Buildings</a></h1><p>特别拐弯抹角的平面几何模拟计算</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> LL;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span> ULL;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn=<span class="number">210</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> inf=<span class="number">0x7fffffff</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">double</span> eps=<span class="number">1e-3</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> N,M;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> x,y;</span><br><span class="line">    <span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d%d&quot;</span>,&amp;N,&amp;M,&amp;x,&amp;y))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (M&lt;N)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">swap</span>(N,M);</span><br><span class="line">            <span class="built_in">swap</span>(x,y);</span><br><span class="line">        &#125;</span><br><span class="line">            <span class="type">int</span> t0=(N<span class="number">+1</span>)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">            <span class="type">int</span> up=x<span class="number">-1</span>;</span><br><span class="line">            <span class="type">int</span> down=N-x;</span><br><span class="line">            <span class="type">int</span> left=y<span class="number">-1</span>;</span><br><span class="line">            <span class="type">int</span> right=M-y;</span><br><span class="line">            <span class="comment">//cout&lt;&lt;t0&lt;&lt;endl;</span></span><br><span class="line">            <span class="keyword">if</span> ((N&amp;<span class="number">1</span>)&amp;&amp;N==M&amp;&amp;x==y&amp;&amp;x==(N<span class="number">+1</span>)/<span class="number">2</span>)</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,t0<span class="number">-1</span>);</span><br><span class="line">            <span class="comment">/*else if (min(up,down)&gt;t0)</span></span><br><span class="line"><span class="comment">                printf(&quot;%d\n&quot;,min(max(left,right),min(up,down)));*/</span></span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                x=<span class="built_in">min</span>(x,N-x<span class="number">+1</span>);</span><br><span class="line">                y=<span class="built_in">min</span>(y,M-y<span class="number">+1</span>);</span><br><span class="line">                t0=<span class="built_in">max</span>(t0,<span class="built_in">min</span>(N-x,y));</span><br><span class="line">                t0=<span class="built_in">min</span>(t0,(M<span class="number">+1</span>)/<span class="number">2</span>);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,t0);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2015-07-22T18:05:29.000Z" title="7/22/2015, 6:05:29 PM">07/22/2015</time></span><span class="level-item">Updated&nbsp;<time dateTime="2025-08-18T06:23:06.889Z" title="8/18/2025, 6:23:06 AM">08/18/2025</time></span><span class="level-item"> Semprathlon / Simfae Dean </span><span class="level-item"><a class="link-muted" href="/categories/ACM-ICPC/">ACM-ICPC</a><span> / </span><a class="link-muted" href="/categories/ACM-ICPC/Programing/">Programing</a></span><span class="level-item">9 minutes read (About 1292 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/posts/80d7931b/">2015 Multi-University Training Contest 1</a></p><div class="content"><h1 id="1002-Assignment-RMQ"><a href="#1002-Assignment-RMQ" class="headerlink" title="1002 Assignment RMQ"></a><a target="_blank" rel="noopener" href="http://acm.hdu.edu.cn/showproblem.php?pid=5289">1002 Assignment</a> RMQ</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 2015年7月21日 下午1:40:29</span></span><br><span class="line"><span class="comment"> * PrjName:0721-02</span></span><br><span class="line"><span class="comment"> * @ Semprathlon</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">int</span> maxm=<span class="number">20</span>,maxn=<span class="number">100010</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span>[] a;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span>[][] maxsum,minsum;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span> n,k;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">RMQ</span><span class="params">()</span>&#123; <span class="comment">//预处理-&gt;O(nlogn)&#123;</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i != maxm; ++i)</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt;= n; ++j)</span><br><span class="line">                <span class="keyword">if</span>(j + (<span class="number">1</span> &lt;&lt; i) - <span class="number">1</span> &lt;= n)&#123;</span><br><span class="line">                    maxsum[i][j] = Math.max(maxsum[i - <span class="number">1</span>][j], maxsum[i - <span class="number">1</span>][j + (<span class="number">1</span> &lt;&lt; i &gt;&gt; <span class="number">1</span>)]);</span><br><span class="line">                    minsum[i][j] = Math.min(minsum[i - <span class="number">1</span>][j], minsum[i - <span class="number">1</span>][j + (<span class="number">1</span> &lt;&lt; i &gt;&gt; <span class="number">1</span>)]);</span><br><span class="line">                &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">query</span><span class="params">(<span class="type">int</span> src,<span class="type">int</span> des)</span>&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> (<span class="type">int</span>)(Math.log(des - src + <span class="number">1.0</span>) / Math.log(<span class="number">2.0</span>));</span><br><span class="line">        <span class="type">int</span> <span class="variable">maxres</span> <span class="operator">=</span> Math.max(maxsum[k][src], maxsum[k][des - (<span class="number">1</span> &lt;&lt; k) + <span class="number">1</span>]);</span><br><span class="line">        <span class="type">int</span> <span class="variable">minres</span> <span class="operator">=</span> Math.min(minsum[k][src], minsum[k][des - (<span class="number">1</span> &lt;&lt; k) + <span class="number">1</span>]);</span><br><span class="line">        <span class="keyword">return</span> maxres-minres;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">bisearch</span><span class="params">(<span class="type">int</span> p)</span>&#123;</span><br><span class="line">        <span class="type">int</span> l=p,r=n;</span><br><span class="line">        <span class="type">int</span> res=p;</span><br><span class="line">        <span class="keyword">while</span>(l&lt;=r)&#123;</span><br><span class="line">            <span class="type">int</span> mid=(l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">            <span class="type">int</span> dif=query(p,mid);</span><br><span class="line">            <span class="keyword">if</span> (dif&lt;k)&#123;</span><br><span class="line">                res=mid;l=mid+<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                r=mid-<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res-p+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">        InputReader in=<span class="keyword">new</span> <span class="title class_">InputReader</span>(System.in);</span><br><span class="line">        PrintWriter out=<span class="keyword">new</span> <span class="title class_">PrintWriter</span>(System.out);</span><br><span class="line">        <span class="type">int</span> T=in.nextInt();</span><br><span class="line">        <span class="keyword">while</span>(T--&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            n=in.nextInt();</span><br><span class="line">            k=in.nextInt();</span><br><span class="line">            a=<span class="keyword">new</span> <span class="title class_">int</span>[n+<span class="number">1</span>];</span><br><span class="line">            maxsum=<span class="keyword">new</span> <span class="title class_">int</span>[maxm][n+<span class="number">1</span>];</span><br><span class="line">            minsum=<span class="keyword">new</span> <span class="title class_">int</span>[maxm][n+<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">                a[i]=in.nextInt();</span><br><span class="line">                maxsum[<span class="number">0</span>][i]=minsum[<span class="number">0</span>][i]=a[i];</span><br><span class="line">            &#125;</span><br><span class="line">            RMQ();</span><br><span class="line">            <span class="type">long</span> res=<span class="number">0L</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">                <span class="comment">//out.print(bisearch(i)+&quot; &quot;);</span></span><br><span class="line">                res+=bisearch(i);</span><br><span class="line">            out.println(res);</span><br><span class="line">        &#125;</span><br><span class="line">        out.flush();</span><br><span class="line">        out.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">InputReader</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> BufferedReader reader;</span><br><span class="line">    <span class="keyword">public</span> StringTokenizer tokenizer;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">InputReader</span><span class="params">(InputStream stream)</span>&#123;</span><br><span class="line">           reader = <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(stream), <span class="number">32768</span>);</span><br><span class="line">           tokenizer = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">next</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(tokenizer == <span class="literal">null</span> || !tokenizer.hasMoreTokens())&#123;</span><br><span class="line">            <span class="keyword">try</span>&#123;</span><br><span class="line">                tokenizer = <span class="keyword">new</span> <span class="title class_">StringTokenizer</span>(reader.readLine());</span><br><span class="line">            &#125;<span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> tokenizer.nextToken();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">nextInt</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Integer.parseInt(next());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">long</span> <span class="title function_">nextLong</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Long.parseLong(next());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="1007-Tricks-Device"><a href="#1007-Tricks-Device" class="headerlink" title="1007 Tricks Device"></a><a target="_blank" rel="noopener" href="http://acm.hdu.edu.cn/showproblem.php?pid=5294">1007 Tricks Device</a></h1><p>netflow,maxflow,Dinic</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 2015年7月22日 上午10:07:44</span></span><br><span class="line"><span class="comment"> * PrjName:0721-07</span></span><br><span class="line"><span class="comment"> * @ Semprathlon</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Edge</span>&#123;</span><br><span class="line">    <span class="type">int</span> to,cap,rev,next;</span><br><span class="line">    Edge()&#123;&#125;</span><br><span class="line">    Edge(<span class="type">int</span> t,<span class="type">int</span> w,<span class="type">int</span> r,<span class="type">int</span> nt)&#123;</span><br><span class="line">        to=t;cap=w;rev=r;next=nt;</span><br><span class="line">    &#125;</span><br><span class="line">    Edge(Edge e)&#123;</span><br><span class="line">        <span class="built_in">this</span>.to=e.to;</span><br><span class="line">        <span class="built_in">this</span>.cap=e.cap;</span><br><span class="line">        <span class="built_in">this</span>.rev=e.rev;</span><br><span class="line">        <span class="built_in">this</span>.next=e.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">set</span><span class="params">(<span class="type">int</span> t,<span class="type">int</span> w,<span class="type">int</span> r,<span class="type">int</span> nt)</span>&#123;</span><br><span class="line">        to=t;cap=w;rev=r;next=nt;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">set</span><span class="params">(Edge e)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.to=e.to;</span><br><span class="line">        <span class="built_in">this</span>.cap=e.cap;</span><br><span class="line">        <span class="built_in">this</span>.rev=e.rev;</span><br><span class="line">        <span class="built_in">this</span>.next=e.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Queue</span>&lt;T&gt;&#123;</span><br><span class="line">    T[] data;</span><br><span class="line">    <span class="type">int</span> size,h,r;</span><br><span class="line">    <span class="comment">/*Queue(Class&lt;T&gt; c,int sz)&#123;</span></span><br><span class="line"><span class="comment">        size=sz;</span></span><br><span class="line"><span class="comment">        @SuppressWarnings(&quot;unchecked&quot;)</span></span><br><span class="line"><span class="comment">        final T[] tmp=(T[])Array.newInstance(c, sz);</span></span><br><span class="line"><span class="comment">        data=tmp;</span></span><br><span class="line"><span class="comment">    &#125;*/</span></span><br><span class="line">    Queue(<span class="type">int</span> sz)&#123;</span><br><span class="line">        size=sz;</span><br><span class="line">        data=(T[])<span class="keyword">new</span> <span class="title class_">Object</span>[sz];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">clear</span><span class="params">()</span>&#123;</span><br><span class="line">        h=r=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">empty</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> h==r;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">full</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (r+<span class="number">1</span>)%size==h;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(T n)</span>&#123;</span><br><span class="line">        data[r]=n;</span><br><span class="line">        r=(r+<span class="number">1</span>)%size;</span><br><span class="line">    &#125;</span><br><span class="line">    T <span class="title function_">pop</span><span class="params">()</span>&#123;</span><br><span class="line">        T tmp=data[h];</span><br><span class="line">        h=(h+<span class="number">1</span>)%size;</span><br><span class="line">        <span class="keyword">return</span> tmp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span>[] head,dis,cnt;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">boolean</span>[] vis;</span><br><span class="line">    <span class="keyword">static</span> Edge[] G;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span> n,m;</span><br><span class="line">    <span class="keyword">static</span> Queue&lt;Integer&gt; que;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">bfs</span><span class="params">(<span class="type">int</span> st)</span>&#123;</span><br><span class="line">        Arrays.fill(dis, -<span class="number">1</span>);</span><br><span class="line">        que.clear();</span><br><span class="line">        dis[st]=<span class="number">0</span>;</span><br><span class="line">        vis[st]=<span class="literal">true</span>;</span><br><span class="line">        que.push(st);</span><br><span class="line">        <span class="keyword">while</span>(!que.empty())&#123;</span><br><span class="line">            <span class="type">int</span> u=que.pop();</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i=head[u];i&gt;-<span class="number">1</span>;i=G[i].next)&#123;</span><br><span class="line">                <span class="type">int</span> v=G[i].to;</span><br><span class="line">                <span class="keyword">if</span> (G[i].cap&gt;<span class="number">0</span>&amp;&amp;!vis[v])&#123;</span><br><span class="line">                    dis[v]=dis[u]+<span class="number">1</span>;</span><br><span class="line">                    que.push(v);</span><br><span class="line">                    vis[v]=<span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> u,<span class="type">int</span> d)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (u==n) <span class="keyword">return</span> d;</span><br><span class="line">        <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=head[u];i&gt;-<span class="number">1</span>;i=G[i].next)&#123;</span><br><span class="line">            <span class="type">int</span> v=G[i].to;</span><br><span class="line">            <span class="keyword">if</span> (G[i].cap&gt;<span class="number">0</span>&amp;&amp;dis[v]==dis[u]+<span class="number">1</span>)&#123;</span><br><span class="line">                <span class="type">int</span> tmp=dfs(v,Math.min(d,G[i].cap));</span><br><span class="line">                G[i].cap-=tmp;</span><br><span class="line">                G[G[i].rev].cap+=tmp;</span><br><span class="line">                d-=tmp;</span><br><span class="line">                res+=tmp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">max_flow</span><span class="params">(<span class="type">int</span> s,<span class="type">int</span> t)</span>&#123;</span><br><span class="line">        <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(;;)&#123;</span><br><span class="line">            Arrays.fill(vis, <span class="literal">false</span>);</span><br><span class="line">            bfs(s);</span><br><span class="line">            <span class="keyword">if</span> (!vis[t]) <span class="keyword">return</span> res;</span><br><span class="line">            res+=dfs(s,Integer.MAX_VALUE);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">addedge</span><span class="params">(<span class="type">int</span> from,<span class="type">int</span> to,<span class="type">int</span> cap)</span>&#123;</span><br><span class="line">        G[head[<span class="number">0</span>]]=<span class="keyword">new</span> <span class="title class_">Edge</span>(to, cap, head[<span class="number">0</span>]+<span class="number">1</span>, head[from]);</span><br><span class="line">        head[from]=head[<span class="number">0</span>]++;</span><br><span class="line">        G[head[<span class="number">0</span>]]=<span class="keyword">new</span> <span class="title class_">Edge</span>(from,cap,head[<span class="number">0</span>]-<span class="number">1</span>,head[to]);</span><br><span class="line">        head[to]=head[<span class="number">0</span>]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">spfa</span><span class="params">(<span class="type">int</span> st)</span>&#123;</span><br><span class="line">        que.clear();</span><br><span class="line">        que.push(st);</span><br><span class="line">        dis[st]=<span class="number">0</span>;</span><br><span class="line">        vis[st]=<span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">while</span>(!que.empty())&#123;</span><br><span class="line">            <span class="type">int</span> u=que.pop();vis[u]=<span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i=head[u];i&gt;-<span class="number">1</span>;i=G[i].next)&#123;</span><br><span class="line">                <span class="type">int</span> v=G[i].to;</span><br><span class="line">                <span class="keyword">if</span> (dis[u]+G[i].cap&lt;dis[v])&#123;</span><br><span class="line">                    dis[v]=dis[u]+G[i].cap;</span><br><span class="line">                    <span class="keyword">if</span> (!vis[v])&#123; </span><br><span class="line">                        que.push(v);</span><br><span class="line">                        vis[v]=<span class="literal">true</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">spfa2</span><span class="params">(<span class="type">int</span> s,<span class="type">int</span> t)</span>&#123;</span><br><span class="line">        Arrays.fill(cnt, Integer.MAX_VALUE);</span><br><span class="line">        Arrays.fill(vis, <span class="literal">false</span>);</span><br><span class="line">        que.clear();</span><br><span class="line">        que.push(s);</span><br><span class="line">        cnt[s]=<span class="number">0</span>;</span><br><span class="line">        vis[s]=<span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">while</span>(!que.empty())&#123;</span><br><span class="line">            <span class="type">int</span> u=que.pop();vis[u]=<span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i=head[u];i&gt;-<span class="number">1</span>;i=G[i].next)&#123;</span><br><span class="line">                <span class="type">int</span> v=G[i].to;</span><br><span class="line">                <span class="keyword">if</span> (dis[u]+G[i].cap!=dis[v]) <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">if</span> (!vis[v])&#123; </span><br><span class="line">                    que.push(v);</span><br><span class="line">                    vis[v]=<span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                cnt[v]=Math.min(cnt[v], cnt[u]+<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> cnt[t];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span>&#123;</span><br><span class="line">        G=<span class="keyword">new</span> <span class="title class_">Edge</span>[(m&lt;&lt;<span class="number">1</span>)+<span class="number">1</span>];</span><br><span class="line">        head=<span class="keyword">new</span> <span class="title class_">int</span>[(m&lt;&lt;<span class="number">1</span>)+<span class="number">1</span>];</span><br><span class="line">        dis=<span class="keyword">new</span> <span class="title class_">int</span>[n+<span class="number">1</span>];</span><br><span class="line">        cnt=<span class="keyword">new</span> <span class="title class_">int</span>[n+<span class="number">1</span>];</span><br><span class="line">        vis=<span class="keyword">new</span> <span class="title class_">boolean</span>[n+<span class="number">1</span>];</span><br><span class="line">        Arrays.fill(head, -<span class="number">1</span>);</span><br><span class="line">        Arrays.fill(dis, Integer.MAX_VALUE);</span><br><span class="line">        head[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">        <span class="comment">//que=new Queue(Integer.class,(m&lt;&lt;1)+1);</span></span><br><span class="line">        que=<span class="keyword">new</span> <span class="title class_">Queue</span>&lt;Integer&gt;((m&lt;&lt;<span class="number">1</span>)+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException,InterruptedException &#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">        <span class="type">StreamTokenizer</span> <span class="variable">cin</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StreamTokenizer</span>(<span class="keyword">new</span> <span class="title class_">BufferedInputStream</span>(System.in)); </span><br><span class="line">        <span class="comment">//InputReader in=new InputReader(System.in);</span></span><br><span class="line">        PrintWriter out=<span class="keyword">new</span> <span class="title class_">PrintWriter</span>(System.out);</span><br><span class="line">        <span class="keyword">while</span>(cin.nextToken()!=StreamTokenizer.TT_EOF)&#123;</span><br><span class="line">            n=(<span class="type">int</span>)cin.nval;</span><br><span class="line">            cin.nextToken();</span><br><span class="line">            m=(<span class="type">int</span>)cin.nval;</span><br><span class="line">            init();</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)&#123;</span><br><span class="line">                cin.nextToken();</span><br><span class="line">                <span class="type">int</span> u=(<span class="type">int</span>)cin.nval;</span><br><span class="line">                cin.nextToken();</span><br><span class="line">                <span class="type">int</span> v=(<span class="type">int</span>)cin.nval;</span><br><span class="line">                cin.nextToken();</span><br><span class="line">                <span class="type">int</span> w=(<span class="type">int</span>)cin.nval;</span><br><span class="line">                addedge(u, v, w);</span><br><span class="line">                <span class="comment">//addedge(v, u, w);</span></span><br><span class="line">            &#125;</span><br><span class="line">            spfa(<span class="number">1</span>);</span><br><span class="line">            <span class="comment">//out.println(dis[n]);</span></span><br><span class="line">            <span class="comment">//max_flow(1, n);</span></span><br><span class="line">            <span class="comment">//init2();</span></span><br><span class="line">            Dinic dinic=<span class="keyword">new</span> <span class="title class_">Dinic</span>(<span class="number">1</span>, n);</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> u=<span class="number">1</span>;u&lt;=n;u++)</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> i=head[u];i&gt;-<span class="number">1</span>;i=G[i].next)&#123;</span><br><span class="line">                    <span class="type">int</span> v=G[i].to;</span><br><span class="line">                    <span class="keyword">if</span> (dis[u]+G[i].cap==dis[v])</span><br><span class="line">                        dinic.add(u, v, <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            <span class="comment">/*init();</span></span><br><span class="line"><span class="comment">            for(int i=1;i&lt;=U[0];i++)</span></span><br><span class="line"><span class="comment">                addedge(U[i],V[i].to,1);*/</span></span><br><span class="line">            out.println(dinic.maxflow()+<span class="string">&quot; &quot;</span>+(m-spfa2(<span class="number">1</span>,n)));</span><br><span class="line">            <span class="comment">/*for(int i=1;i&lt;=n;i++)</span></span><br><span class="line"><span class="comment">                for(int j=head[i];j&gt;-1;j=G[j].next)</span></span><br><span class="line"><span class="comment">                    out.println(j+&quot;\t:&quot;+i+&quot; &quot;+G[j].to+&quot; &quot;+G[j].cap+&quot; &quot;+G[j].rev+&quot; &quot;+G[j].next);*/</span></span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        out.flush();</span><br><span class="line">        out.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dinic</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Dinic</span><span class="params">(<span class="type">int</span> sourse , <span class="type">int</span> meet)</span>&#123;</span><br><span class="line">                 <span class="built_in">this</span>.sourse = sourse ; </span><br><span class="line">                 <span class="built_in">this</span>.meet = meet ;</span><br><span class="line">                 Arrays.fill(g,  <span class="number">0</span>) ;</span><br><span class="line">                 id = <span class="number">1</span> ;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span>  <span class="type">int</span>  <span class="variable">maxn</span> <span class="operator">=</span> <span class="number">2008</span> , maxm = <span class="number">500000</span> ;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Edge</span>&#123;</span><br><span class="line">           <span class="type">int</span> v , f ,next ;</span><br><span class="line">           Edge()&#123;&#125;</span><br><span class="line">           Edge(<span class="type">int</span> _v , <span class="type">int</span> _f , <span class="type">int</span> _next)&#123;</span><br><span class="line">                 <span class="built_in">this</span>.v = _v ;</span><br><span class="line">                 <span class="built_in">this</span>.f = _f ;</span><br><span class="line">                 <span class="built_in">this</span>.next = _next ;</span><br><span class="line">           &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="type">int</span>  sourse , meet ;</span><br><span class="line">    <span class="type">int</span>  id ;</span><br><span class="line">    <span class="keyword">static</span> Edge[] e = <span class="keyword">new</span> <span class="title class_">Edge</span>[maxm*<span class="number">2</span> + <span class="number">10</span>] ;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span>[] g = <span class="keyword">new</span> <span class="title class_">int</span>[maxn + <span class="number">10</span>] ;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span>  <span class="title function_">add</span><span class="params">(<span class="type">int</span> u , <span class="type">int</span> v , <span class="type">int</span> f)</span>&#123;</span><br><span class="line">              e[++id] = <span class="keyword">new</span> <span class="title class_">Edge</span>(v , f ,g[u]) ;</span><br><span class="line">              g[u] = id ;</span><br><span class="line">              e[++id] = <span class="keyword">new</span> <span class="title class_">Edge</span>(u , <span class="number">0</span> , g[v]) ;</span><br><span class="line">              g[v] = id ;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Queue&lt;Integer&gt; que  = <span class="keyword">new</span> <span class="title class_">Queue</span>&lt;Integer&gt;(maxm);</span><br><span class="line">    <span class="keyword">static</span> <span class="type">boolean</span>[] vis = <span class="keyword">new</span> <span class="title class_">boolean</span>[maxn + <span class="number">10</span>] ;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span>[]  dist = <span class="keyword">new</span> <span class="title class_">int</span>[maxn + <span class="number">10</span>] ;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">bfs</span><span class="params">()</span>&#123;</span><br><span class="line">             Arrays.fill(dist, <span class="number">0</span>) ;</span><br><span class="line">             <span class="keyword">while</span>(! que.empty()) que.pop() ;</span><br><span class="line">             que.push(sourse) ;</span><br><span class="line">             vis[sourse] = <span class="literal">true</span> ;</span><br><span class="line">             <span class="keyword">while</span>(! que.empty())&#123;</span><br><span class="line">                  <span class="type">int</span> <span class="variable">u</span> <span class="operator">=</span> que.pop() ;</span><br><span class="line">                  <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> g[u] ; i &gt; <span class="number">0</span> ; i = e[i].next)&#123;</span><br><span class="line">                       <span class="type">int</span> <span class="variable">v</span> <span class="operator">=</span> e[i].v ;</span><br><span class="line">                       <span class="keyword">if</span>(e[i].f  &gt; <span class="number">0</span> &amp;&amp; !vis[v])&#123;</span><br><span class="line">                             que.push(v) ;</span><br><span class="line">                             dist[v] = dist[u] + <span class="number">1</span> ;</span><br><span class="line">                             vis[v] = <span class="literal">true</span> ;</span><br><span class="line">                       &#125;</span><br><span class="line">                  &#125;</span><br><span class="line">             &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span>  <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> u , <span class="type">int</span> delta)</span>&#123;</span><br><span class="line">             <span class="keyword">if</span>(u == meet) <span class="keyword">return</span> delta ;</span><br><span class="line">             <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">0</span> ;</span><br><span class="line">             <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> g[u] ; i &gt; <span class="number">0</span>  &amp;&amp; delta &gt; <span class="number">0</span>  ; i = e[i].next)&#123;</span><br><span class="line">                   <span class="type">int</span>  <span class="variable">v</span> <span class="operator">=</span> e[i].v ;</span><br><span class="line">                   <span class="keyword">if</span>(e[i].f  &gt; <span class="number">0</span> &amp;&amp; dist[v] == dist[u] + <span class="number">1</span>)&#123;</span><br><span class="line">                        <span class="type">int</span> <span class="variable">d</span> <span class="operator">=</span> dfs(v , Math.min(delta , e[i].f)) ;</span><br><span class="line">                        e[i].f -= d ;</span><br><span class="line">                        e[i^<span class="number">1</span>].f += d ;</span><br><span class="line">                        delta -= d ;</span><br><span class="line">                        ans += d ;</span><br><span class="line">                   &#125;</span><br><span class="line">             &#125;</span><br><span class="line">             <span class="keyword">return</span> ans ;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>  <span class="title function_">maxflow</span><span class="params">()</span>&#123;</span><br><span class="line">                 <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">0</span> ;</span><br><span class="line">                 <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">                     Arrays.fill(vis, <span class="literal">false</span>) ;</span><br><span class="line">                     bfs() ;</span><br><span class="line">                     <span class="keyword">if</span>(! vis[meet]) <span class="keyword">return</span> ans  ;</span><br><span class="line">                     ans += dfs(sourse , Integer.MAX_VALUE) ;</span><br><span class="line">                 &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">InputReader</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> BufferedReader reader;</span><br><span class="line">    <span class="keyword">public</span> StringTokenizer tokenizer;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">InputReader</span><span class="params">(InputStream stream)</span>&#123;</span><br><span class="line">           reader = <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(stream), <span class="number">32768</span>);</span><br><span class="line">           tokenizer = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">next</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(tokenizer == <span class="literal">null</span> || !tokenizer.hasMoreTokens())&#123;</span><br><span class="line">            <span class="keyword">try</span>&#123;</span><br><span class="line">                tokenizer = <span class="keyword">new</span> <span class="title class_">StringTokenizer</span>(reader.readLine());</span><br><span class="line">            &#125;<span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> tokenizer.nextToken();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">nextInt</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Integer.parseInt(next());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">long</span> <span class="title function_">nextLong</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Long.parseLong(next());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>特别复杂的套模板</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2015-07-20T10:46:38.000Z" title="7/20/2015, 10:46:38 AM">07/20/2015</time></span><span class="level-item">Updated&nbsp;<time dateTime="2025-08-18T06:23:06.889Z" title="8/18/2025, 6:23:06 AM">08/18/2025</time></span><span class="level-item"> Semprathlon / Simfae Dean </span><span class="level-item"><a class="link-muted" href="/categories/ACM-ICPC/">ACM-ICPC</a><span> / </span><a class="link-muted" href="/categories/ACM-ICPC/Programing/">Programing</a></span><span class="level-item">3 minutes read (About 416 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/posts/97dd1257/">Bestcoder</a></p><div class="content"><p>Protest一时爽，final test全爆零 QwQ</p>
<h1 id="1001-wyh2000-and-a-string-problem"><a href="#1001-wyh2000-and-a-string-problem" class="headerlink" title="1001 wyh2000 and a string problem"></a><a target="_blank" rel="noopener" href="http://acm.hdu.edu.cn/showproblem.php?pid=5284">1001 wyh2000 and a string problem</a></h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">out.println(str.matches(<span class="string">&quot;.*w.*y.*h.*&quot;</span>)||str.matches(<span class="string">&quot;.*v&#123;2,&#125;.*y.*h.*&quot;</span>)?<span class="string">&quot;Yes&quot;</span>:<span class="string">&quot;No&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>偷懒着用正则表达式，华丽地TLE……<br>后来就醉了一样的胡乱的写了个匹配也不太行……</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> java.math.*;</span><br><span class="line"><span class="keyword">import</span> java.util.regex.*;</span><br><span class="line"><span class="keyword">import</span> com.sun.org.apache.xalan.internal.xsltc.compiler.Pattern;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">check</span><span class="params">(String str)</span>&#123;</span><br><span class="line">        <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> i,len=str.length();</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;len-<span class="number">1</span>;i++)</span><br><span class="line">            <span class="keyword">if</span> (str.charAt(i)==<span class="string">&#x27;w&#x27;</span>||str.charAt(i)==<span class="string">&#x27;v&#x27;</span>&amp;&amp;str.charAt(i+<span class="number">1</span>)==<span class="string">&#x27;v&#x27;</span>)&#123;</span><br><span class="line">                res|=<span class="number">1</span>;<span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="keyword">for</span>(;i&lt;len;i++)</span><br><span class="line">            <span class="keyword">if</span> (str.charAt(i)==<span class="string">&#x27;y&#x27;</span>)&#123;</span><br><span class="line">                res|=<span class="number">2</span>;<span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="keyword">for</span>(;i&lt;len;i++)</span><br><span class="line">            <span class="keyword">if</span> (str.charAt(i)==<span class="string">&#x27;h&#x27;</span>)&#123;</span><br><span class="line">                res|=<span class="number">4</span>;<span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="keyword">return</span> res==<span class="number">7</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>  <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">         <span class="type">InputReader</span> <span class="variable">in</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">InputReader</span>(System.in)  ;</span><br><span class="line">         <span class="type">PrintWriter</span> <span class="variable">out</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PrintWriter</span>(System.out) ;</span><br><span class="line">         <span class="type">int</span> T=in.nextInt();</span><br><span class="line">         <span class="keyword">while</span>(T--&gt;<span class="number">0</span>)&#123;</span><br><span class="line">             String str=in.next();</span><br><span class="line">             out.println(check(str)?<span class="string">&quot;Yes&quot;</span>:<span class="string">&quot;No&quot;</span>);</span><br><span class="line">             out.flush();</span><br><span class="line">         &#125;</span><br><span class="line">         out.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="1002-wyh2000-and-pupil"><a href="#1002-wyh2000-and-pupil" class="headerlink" title="1002 wyh2000 and pupil"></a><a target="_blank" rel="noopener" href="http://acm.hdu.edu.cn/showproblem.php?pid=5285">1002 wyh2000 and pupil</a></h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> LL;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span> ULL;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn=<span class="number">200010</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> inf=<span class="number">0x7fffffff</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">double</span> eps=<span class="number">1e-3</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">short</span> col[maxn];</span><br><span class="line"><span class="type">int</span> s[<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Edge</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> to,next;</span><br><span class="line">    <span class="built_in">Edge</span>()&#123;&#125;</span><br><span class="line">    <span class="built_in">Edge</span>(<span class="type">int</span> v,<span class="type">int</span> w):<span class="built_in">to</span>(v),<span class="built_in">next</span>(w)&#123;&#125;</span><br><span class="line">&#125; edge[maxn];</span><br><span class="line"><span class="type">int</span> head[maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">addedge</span><span class="params">(<span class="type">int</span> u,<span class="type">int</span> v)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    edge[head[<span class="number">0</span>]]=<span class="built_in">Edge</span>(v,head[u]);</span><br><span class="line">    head[u]=head[<span class="number">0</span>]++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">fill</span>(head,head+maxn,<span class="number">-1</span>);</span><br><span class="line">    head[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">bfs</span><span class="params">(<span class="type">int</span> u)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line">    q.<span class="built_in">push</span>(u);</span><br><span class="line">    col[u]=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> p=q.<span class="built_in">front</span>();</span><br><span class="line">        s[col[p]]++;</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=head[p];i!=<span class="number">-1</span>;i=edge[i].next)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> v=edge[i].to;</span><br><span class="line">            <span class="keyword">if</span> (col[v]&gt;=<span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (col[v]==col[p]) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                col[v]=<span class="number">1</span>^col[p];</span><br><span class="line">                q.<span class="built_in">push</span>(v);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> T;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;T);</span><br><span class="line">    <span class="keyword">while</span>(T--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">init</span>();</span><br><span class="line">        <span class="type">int</span> n,m;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;m);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> u,v;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;u,&amp;v);</span><br><span class="line">            <span class="built_in">addedge</span>(u,v);</span><br><span class="line">            <span class="built_in">addedge</span>(v,u);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> sum=<span class="number">0</span>;</span><br><span class="line">        <span class="built_in">fill</span>(col<span class="number">+1</span>,col+n<span class="number">+1</span>,<span class="number">-1</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">            <span class="keyword">if</span> (col[i]&lt;<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            s[<span class="number">0</span>]=s[<span class="number">1</span>]=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">bfs</span>(i)&lt;<span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                sum=<span class="number">-1</span>;<span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> sum+=<span class="built_in">max</span>(s[<span class="number">0</span>],s[<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (n==sum) sum--;</span><br><span class="line">        <span class="keyword">if</span> (sum&lt;<span class="number">1</span>||n-sum&lt;<span class="number">1</span>)</span><br><span class="line">            <span class="built_in">puts</span>(<span class="string">&quot;Poor wyh&quot;</span>);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d %d\n&quot;</span>,sum,n-sum);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>事实证明这并不是二分图匹配；并没有什么典型的算法让两个集合中的一个最大……<br>用DFS或BFS都可实现填色。</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2015-07-18T11:32:31.000Z" title="7/18/2015, 11:32:31 AM">07/18/2015</time></span><span class="level-item">Updated&nbsp;<time dateTime="2025-08-18T06:23:06.889Z" title="8/18/2025, 6:23:06 AM">08/18/2025</time></span><span class="level-item"> Semprathlon / Simfae Dean </span><span class="level-item"><a class="link-muted" href="/categories/ACM-ICPC/">ACM-ICPC</a><span> / </span><a class="link-muted" href="/categories/ACM-ICPC/Programing/">Programing</a></span><span class="level-item">2 minutes read (About 277 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/posts/24de410e/">hdu 5115 Dire Wolf 区间DP</a></p><div class="content"><p>2014ACM&#x2F;ICPC亚洲区北京站<br><a target="_blank" rel="noopener" href="http://acm.hdu.edu.cn/showproblem.php?pid=5115">Dire Wolf</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 2015年7月18日 上午9:55:52</span></span><br><span class="line"><span class="comment"> * PrjName:hdu5115</span></span><br><span class="line"><span class="comment"> * @ Semprathlon</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">long</span> inf=<span class="number">0x7FFFFFFFFFFFFFFFL</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">long</span> <span class="title function_">min</span><span class="params">(<span class="type">long</span> a,<span class="type">long</span> b)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Math.min(a, b);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>  <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">        StreamTokenizer in=<span class="keyword">new</span> <span class="title class_">StreamTokenizer</span>(<span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(System.in)));</span><br><span class="line">        PrintWriter out=<span class="keyword">new</span> <span class="title class_">PrintWriter</span>(<span class="keyword">new</span> <span class="title class_">OutputStreamWriter</span>(System.out));</span><br><span class="line">        in.nextToken();</span><br><span class="line">        <span class="type">int</span> T=(<span class="type">int</span>)in.nval,cas=<span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span>[] a,b;</span><br><span class="line">        <span class="type">long</span>[][] f;</span><br><span class="line">        <span class="keyword">while</span>(T--&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            in.nextToken();</span><br><span class="line">            <span class="type">int</span> n=(<span class="type">int</span>)in.nval;</span><br><span class="line">            a=<span class="keyword">new</span> <span class="title class_">int</span>[n+<span class="number">2</span>];</span><br><span class="line">            b=<span class="keyword">new</span> <span class="title class_">int</span>[n+<span class="number">2</span>];</span><br><span class="line">            f=<span class="keyword">new</span> <span class="title class_">long</span>[n+<span class="number">2</span>][n+<span class="number">2</span>];</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">                in.nextToken();</span><br><span class="line">                a[i]=(<span class="type">int</span>)in.nval;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">                in.nextToken();</span><br><span class="line">                b[i]=(<span class="type">int</span>)in.nval;</span><br><span class="line">            &#125;</span><br><span class="line">            f[<span class="number">1</span>][<span class="number">1</span>]=a[<span class="number">1</span>]+b[<span class="number">2</span>];</span><br><span class="line">            f[n][n]=a[n]+b[n-<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">2</span>;i&lt;n;i++)</span><br><span class="line">                f[i][i]=a[i]+b[i-<span class="number">1</span>]+b[i+<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> j=i+<span class="number">1</span>;j&lt;=n;j++)</span><br><span class="line">                    f[i][j]=inf;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;=n;j++)</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i+j&lt;n+<span class="number">1</span>;i++)</span><br><span class="line">                    <span class="keyword">for</span>(<span class="type">int</span> k=i;k&lt;=i+j;k++)&#123;</span><br><span class="line">                        f[i][i+j]=min(f[i][i+j],f[i][k-<span class="number">1</span>]+f[k+<span class="number">1</span>][i+j]+a[k]+b[i-<span class="number">1</span>]+b[i+j+<span class="number">1</span>]);</span><br><span class="line">                        <span class="comment">//out.print(f[i][i+j]+&quot; &quot;);</span></span><br><span class="line">                    &#125;</span><br><span class="line">            <span class="comment">/*for(int i=0;i&lt;=n+1;i++)&#123;out.println();</span></span><br><span class="line"><span class="comment">                for(int j=0;j&lt;=n+1;j++)</span></span><br><span class="line"><span class="comment">                    out.print(f[i][j]+&quot;\t&quot;);    </span></span><br><span class="line"><span class="comment">            &#125;*/</span></span><br><span class="line">                        </span><br><span class="line">            </span><br><span class="line">            <span class="comment">/*for(int i=0;i&lt;n;i++)</span></span><br><span class="line"><span class="comment">                for(int j=1;j&lt;n-i;j++)&#123;</span></span><br><span class="line"><span class="comment">                    if (j==1)</span></span><br><span class="line"><span class="comment">                        min(f[j][j+i],f[j+1][j+i]+a[j]);</span></span><br><span class="line"><span class="comment">                    if (j&gt;1)</span></span><br><span class="line"><span class="comment">                        min(f[j][j+i],f[j+1][j+i]+a[j]+b[j-1]);</span></span><br><span class="line"><span class="comment">                    if (i+j&lt;n)</span></span><br><span class="line"><span class="comment">                        min(f[j][j+i],f[j][j+i-1]+a[j+i]+b[j+i+1]);</span></span><br><span class="line"><span class="comment">                    if (i+j==n)</span></span><br><span class="line"><span class="comment">                        min(f[j][j+i],f[j][j+i-1]+a[j+i]);</span></span><br><span class="line"><span class="comment">                    for(int k=j+1;k&lt;j+i;k++)</span></span><br><span class="line"><span class="comment">                        min(f[j][j+i],f[j][k-1]+a[k]+f[k+1][j+i]);</span></span><br><span class="line"><span class="comment">                &#125;*/</span></span><br><span class="line">            out.println(<span class="string">&quot;Case #&quot;</span>+(++cas)+<span class="string">&quot;: &quot;</span>+f[<span class="number">1</span>][n]);</span><br><span class="line">            out.flush();</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        out.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>贪心真的是要贪婪死了。。。<br>已消除区段。。。其实对后续操作没有影响，符合无后效性。</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2015-07-18T11:12:18.000Z" title="7/18/2015, 11:12:18 AM">07/18/2015</time></span><span class="level-item">Updated&nbsp;<time dateTime="2025-08-18T06:23:06.887Z" title="8/18/2025, 6:23:06 AM">08/18/2025</time></span><span class="level-item"> Semprathlon / Simfae Dean </span><span class="level-item"><a class="link-muted" href="/categories/ACM-ICPC/">ACM-ICPC</a><span> / </span><a class="link-muted" href="/categories/ACM-ICPC/Programing/">Programing</a></span><span class="level-item">2 minutes read (About 229 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/posts/fb58aa85/">ACM-ICPC 2014 Beijing Regional / hdu 5115 区间DP</a></p><div class="content"><p>贪心？走进死胡同了吧</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 2015年7月18日 上午9:55:52</span></span><br><span class="line"><span class="comment"> * PrjName:hdu5115</span></span><br><span class="line"><span class="comment"> * @ Semprathlon</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">	<span class="keyword">final</span> <span class="keyword">static</span> <span class="type">long</span> inf=<span class="number">0x7FFFFFFFFFFFFFFFL</span>;</span><br><span class="line">	<span class="keyword">static</span> <span class="type">long</span> <span class="title function_">min</span><span class="params">(<span class="type">long</span> a,<span class="type">long</span> b)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> Math.min(a, b);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>  <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		StreamTokenizer in=<span class="keyword">new</span> <span class="title class_">StreamTokenizer</span>(<span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(System.in)));</span><br><span class="line">		PrintWriter out=<span class="keyword">new</span> <span class="title class_">PrintWriter</span>(<span class="keyword">new</span> <span class="title class_">OutputStreamWriter</span>(System.out));</span><br><span class="line">		in.nextToken();</span><br><span class="line">		<span class="type">int</span> T=(<span class="type">int</span>)in.nval,cas=<span class="number">0</span>;</span><br><span class="line">		<span class="type">int</span>[] a,b;</span><br><span class="line">		<span class="type">long</span>[][] f;</span><br><span class="line">		<span class="keyword">while</span>(T--&gt;<span class="number">0</span>)&#123;</span><br><span class="line">			in.nextToken();</span><br><span class="line">			<span class="type">int</span> n=(<span class="type">int</span>)in.nval;</span><br><span class="line">			a=<span class="keyword">new</span> <span class="title class_">int</span>[n+<span class="number">2</span>];</span><br><span class="line">			b=<span class="keyword">new</span> <span class="title class_">int</span>[n+<span class="number">2</span>];</span><br><span class="line">			f=<span class="keyword">new</span> <span class="title class_">long</span>[n+<span class="number">2</span>][n+<span class="number">2</span>];</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">				in.nextToken();</span><br><span class="line">				a[i]=(<span class="type">int</span>)in.nval;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">				in.nextToken();</span><br><span class="line">				b[i]=(<span class="type">int</span>)in.nval;</span><br><span class="line">			&#125;</span><br><span class="line">			f[<span class="number">1</span>][<span class="number">1</span>]=a[<span class="number">1</span>]+b[<span class="number">2</span>];</span><br><span class="line">			f[n][n]=a[n]+b[n-<span class="number">1</span>];</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">2</span>;i&lt;n;i++)</span><br><span class="line">				f[i][i]=a[i]+b[i-<span class="number">1</span>]+b[i+<span class="number">1</span>];</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">				<span class="keyword">for</span>(<span class="type">int</span> j=i+<span class="number">1</span>;j&lt;=n;j++)</span><br><span class="line">					f[i][j]=inf;</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;=n;j++)</span><br><span class="line">				<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i+j&lt;n+<span class="number">1</span>;i++)</span><br><span class="line">					<span class="keyword">for</span>(<span class="type">int</span> k=i;k&lt;=i+j;k++)&#123;</span><br><span class="line">						f[i][i+j]=min(f[i][i+j],f[i][k-<span class="number">1</span>]+f[k+<span class="number">1</span>][i+j]+a[k]+b[i-<span class="number">1</span>]+b[i+j+<span class="number">1</span>]);</span><br><span class="line">						<span class="comment">//out.print(f[i][i+j]+&quot; &quot;);</span></span><br><span class="line">					&#125;</span><br><span class="line">			<span class="comment">/*for(int i=0;i&lt;=n+1;i++)&#123;out.println();</span></span><br><span class="line"><span class="comment">				for(int j=0;j&lt;=n+1;j++)</span></span><br><span class="line"><span class="comment">					out.print(f[i][j]+&quot;\t&quot;);	</span></span><br><span class="line"><span class="comment">			&#125;*/</span></span><br><span class="line">						</span><br><span class="line">			</span><br><span class="line">			<span class="comment">/*for(int i=0;i&lt;n;i++)</span></span><br><span class="line"><span class="comment">				for(int j=1;j&lt;n-i;j++)&#123;</span></span><br><span class="line"><span class="comment">					if (j==1)</span></span><br><span class="line"><span class="comment">						min(f[j][j+i],f[j+1][j+i]+a[j]);</span></span><br><span class="line"><span class="comment">					if (j&gt;1)</span></span><br><span class="line"><span class="comment">						min(f[j][j+i],f[j+1][j+i]+a[j]+b[j-1]);</span></span><br><span class="line"><span class="comment">					if (i+j&lt;n)</span></span><br><span class="line"><span class="comment">						min(f[j][j+i],f[j][j+i-1]+a[j+i]+b[j+i+1]);</span></span><br><span class="line"><span class="comment">					if (i+j==n)</span></span><br><span class="line"><span class="comment">						min(f[j][j+i],f[j][j+i-1]+a[j+i]);</span></span><br><span class="line"><span class="comment">					for(int k=j+1;k&lt;j+i;k++)</span></span><br><span class="line"><span class="comment">						min(f[j][j+i],f[j][k-1]+a[k]+f[k+1][j+i]);</span></span><br><span class="line"><span class="comment">				&#125;*/</span></span><br><span class="line">			out.println(<span class="string">&quot;Case #&quot;</span>+(++cas)+<span class="string">&quot;: &quot;</span>+f[<span class="number">1</span>][n]);</span><br><span class="line">			out.flush();</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		out.close();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2015-07-18T08:08:29.000Z" title="7/18/2015, 8:08:29 AM">07/18/2015</time></span><span class="level-item">Updated&nbsp;<time dateTime="2025-08-18T06:23:06.884Z" title="8/18/2025, 6:23:06 AM">08/18/2025</time></span><span class="level-item"> Semprathlon / Simfae Dean </span><span class="level-item"><a class="link-muted" href="/categories/ACM-ICPC/">ACM-ICPC</a><span> / </span><a class="link-muted" href="/categories/ACM-ICPC/Programing/">Programing</a></span><span class="level-item">2 minutes read (About 225 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/posts/e2070e83/">ACdreamOJ 1726 hash 二进制表示下的枚举</a></p><div class="content"><h2 id="http-acdream-info-problem-pid-1726Problem-Description"><a href="#http-acdream-info-problem-pid-1726Problem-Description" class="headerlink" title="http://acdream.info/problem?pid=1726Problem Description"></a><a target="_blank" rel="noopener" href="http://acdream.info/problem?pid=1726">http://acdream.info/problem?pid=1726</a><br>Problem Description</h2><p>Recently, Losanto find an interesting Math game. The rule is simple: Tell you a number H, and you can choose some numbers from a set {a[1],a[2],……,a[n]}.If the sum of the number you choose is H, then you win. Losanto just want to know whether he can win the game.</p>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>There are several cases.<br>In each case, there are two numbers in the first line n (the size of the set) and H. The second line has n numbers {a[1],a[2],……,a[n]}.0&lt;n&lt;&#x3D;40, 0&lt;&#x3D;H&lt;10^9, 0&lt;&#x3D;a[i]&lt;10^9,All the numbers are integers.   </p>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><p>If Losanto could win the game, output “Yes” in a line. Else output “No” in a line.   </p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><p>10 87<br>2 3 4 5 7 9 10 11 12 13<br>10 38<br>2 3 4 5 7 9 10 11 12 13   </p>
<h2 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h2><p>No<br>Yes</p>
<p>最大的n值为40，需枚举的状态略多；于是折成两半枚举。前后两段合拼时，不是正向地求和，而是逆向查询，节约了时间   </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 2015年7月17日 下午5:41:50</span></span><br><span class="line"><span class="comment"> * PrjName:acd1726</span></span><br><span class="line"><span class="comment"> * @ Semprathlon</span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">		<span class="type">StreamTokenizer</span> <span class="variable">cin</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StreamTokenizer</span>(<span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(System.in));</span><br><span class="line">		<span class="type">PrintWriter</span> <span class="variable">out</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PrintWriter</span>(System.out);</span><br><span class="line">		HashSet&lt;Long&gt; map = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;Long&gt;();</span><br><span class="line">		<span class="keyword">while</span> (cin.nextToken() != StreamTokenizer.TT_EOF) &#123;</span><br><span class="line">			<span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> (<span class="type">int</span>) cin.nval;</span><br><span class="line">			cin.nextToken();</span><br><span class="line">			<span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> (<span class="type">int</span>) cin.nval;</span><br><span class="line">			map.clear();</span><br><span class="line">			<span class="type">int</span>[] num = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">				cin.nextToken();</span><br><span class="line">				num[i] = (<span class="type">int</span>) cin.nval;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="type">int</span> <span class="variable">t</span> <span class="operator">=</span> (n + <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; (<span class="number">1</span> &lt;&lt; t); i++) &#123;</span><br><span class="line">				<span class="type">long</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">				<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; t; j++) &#123;</span><br><span class="line">					<span class="keyword">if</span> ((i &amp; (<span class="number">1</span> &lt;&lt; j)) &gt; <span class="number">0</span>)</span><br><span class="line">						sum += num[j];</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span> (sum &gt; m)</span><br><span class="line">					<span class="keyword">continue</span>;</span><br><span class="line">				map.add(sum);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="type">int</span> <span class="variable">tt</span> <span class="operator">=</span> n - t;</span><br><span class="line">			<span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> map.contains(m);</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; (<span class="number">1</span> &lt;&lt; tt); i++) &#123;</span><br><span class="line">				<span class="type">long</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">				<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; tt; j++) &#123;</span><br><span class="line">					<span class="keyword">if</span> ((i &amp; (<span class="number">1</span> &lt;&lt; j)) &gt; <span class="number">0</span>)</span><br><span class="line">						sum += num[t + j];</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span> (sum &gt; m)</span><br><span class="line">					<span class="keyword">continue</span>;</span><br><span class="line">				<span class="keyword">if</span> (map.contains(m - sum)) &#123;</span><br><span class="line">					flag = <span class="literal">true</span>;</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span> (flag)</span><br><span class="line">				out.println(<span class="string">&quot;Yes&quot;</span>);</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">				out.println(<span class="string">&quot;No&quot;</span>);</span><br><span class="line">			<span class="comment">// out.flush();</span></span><br><span class="line">		&#125;</span><br><span class="line">		out.flush();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/categories/ACM-ICPC/page/5/">Previous</a></div><div class="pagination-next"><a href="/categories/ACM-ICPC/page/7/">Next</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/categories/ACM-ICPC/">1</a></li><li><span class="pagination-ellipsis">&hellip;</span></li><li><a class="pagination-link" href="/categories/ACM-ICPC/page/5/">5</a></li><li><a class="pagination-link is-current" href="/categories/ACM-ICPC/page/6/">6</a></li><li><a class="pagination-link" href="/categories/ACM-ICPC/page/7/">7</a></li><li><span class="pagination-ellipsis">&hellip;</span></li><li><a class="pagination-link" href="/categories/ACM-ICPC/page/10/">10</a></li></ul></nav></div><!--!--><div class="column column-right is-4-tablet is-4-desktop is-4-widescreen  order-3"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="https://ui-avatars.com/api/?name=Citru+Xonve&amp;background=0D8ABC&amp;color=fff&amp;size=128" alt="CitruXonve"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">CitruXonve</p><p class="is-size-6 is-block">Fullstack Developer, Data Platform, UI/UX</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Sunnyvale, CA, US</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives/"><p class="title">292</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories/"><p class="title">36</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags/"><p class="title">147</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/CitruXonve" target="_blank" rel="me noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="me noopener" title="Github" href="https://github.com/CitruXonve"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="me noopener" title="Facebook" href="https://www.facebook.com/IrisAmamiya/"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="me noopener" title="Twitter" href="https://twitter.com/Iris_Amamiya/"><i class="fab fa-twitter"></i></a></div></div></div><!--!--><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/ACM-ICPC/"><span class="level-start"><span class="level-item">ACM-ICPC</span></span><span class="level-end"><span class="level-item tag">95</span></span></a><ul><li><a class="level is-mobile" href="/categories/ACM-ICPC/Programing/"><span class="level-start"><span class="level-item">Programing</span></span><span class="level-end"><span class="level-item tag">94</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/About/"><span class="level-start"><span class="level-item">About</span></span><span class="level-end"><span class="level-item tag">22</span></span></a></li><li><a class="level is-mobile" href="/categories/Computing/"><span class="level-start"><span class="level-item">Computing</span></span><span class="level-end"><span class="level-item tag">3</span></span></a><ul><li><a class="level is-mobile" href="/categories/Computing/Developing/"><span class="level-start"><span class="level-item">Developing</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Computing/Graphic/"><span class="level-start"><span class="level-item">Graphic</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/Computing/Graphic/Developing/"><span class="level-start"><span class="level-item">Developing</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="/categories/Computing-Cloud/"><span class="level-start"><span class="level-item">Computing - Cloud</span></span><span class="level-end"><span class="level-item tag">2</span></span></a><ul><li><a class="level is-mobile" href="/categories/Computing-Cloud/Notes/"><span class="level-start"><span class="level-item">Notes</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Criticisms/"><span class="level-start"><span class="level-item">Criticisms</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Deployment/"><span class="level-start"><span class="level-item">Deployment</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/DevOps/"><span class="level-start"><span class="level-item">DevOps</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Developing/"><span class="level-start"><span class="level-item">Developing</span></span><span class="level-end"><span class="level-item tag">25</span></span></a><ul><li><a class="level is-mobile" href="/categories/Developing/Environment/"><span class="level-start"><span class="level-item">Environment</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/Developing/Server/"><span class="level-start"><span class="level-item">Server</span></span><span class="level-end"><span class="level-item tag">6</span></span></a><ul><li><a class="level is-mobile" href="/categories/Developing/Server/Web/"><span class="level-start"><span class="level-item">Web</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Developing/Web/"><span class="level-start"><span class="level-item">Web</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Development/"><span class="level-start"><span class="level-item">Development</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/English/"><span class="level-start"><span class="level-item">English</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/Environment/"><span class="level-start"><span class="level-item">Environment</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/Environment/OS/"><span class="level-start"><span class="level-item">OS</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Git/"><span class="level-start"><span class="level-item">Git</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Graphic/"><span class="level-start"><span class="level-item">Graphic</span></span><span class="level-end"><span class="level-item tag">2</span></span></a><ul><li><a class="level is-mobile" href="/categories/Graphic/Developing/"><span class="level-start"><span class="level-item">Developing</span></span><span class="level-end"><span class="level-item tag">2</span></span></a><ul><li><a class="level is-mobile" href="/categories/Graphic/Developing/Game/"><span class="level-start"><span class="level-item">Game</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="/categories/Hardware/"><span class="level-start"><span class="level-item">Hardware</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Industrial/"><span class="level-start"><span class="level-item">Industrial</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Network/"><span class="level-start"><span class="level-item">Network</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/OS/"><span class="level-start"><span class="level-item">OS</span></span><span class="level-end"><span class="level-item tag">34</span></span></a></li><li><a class="level is-mobile" href="/categories/Programing/"><span class="level-start"><span class="level-item">Programing</span></span><span class="level-end"><span class="level-item tag">21</span></span></a><ul><li><a class="level is-mobile" href="/categories/Programing/ACM-ICPC/"><span class="level-start"><span class="level-item">ACM-ICPC</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/Programing/ACM-ICPC/Programing/"><span class="level-start"><span class="level-item">Programing</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="/categories/Server/"><span class="level-start"><span class="level-item">Server</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/Web/"><span class="level-start"><span class="level-item">Web</span></span><span class="level-end"><span class="level-item tag">3</span></span></a><ul><li><a class="level is-mobile" href="/categories/Web/About/"><span class="level-start"><span class="level-item">About</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/iOS/"><span class="level-start"><span class="level-item">iOS</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/ACM-ICPC/"><span class="tag">ACM-ICPC</span><span class="tag">14</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AC%E8%87%AA%E5%8A%A8%E6%9C%BA/"><span class="tag">AC自动机</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AWS/"><span class="tag">AWS</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Adobe/"><span class="tag">Adobe</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Angular/"><span class="tag">Angular</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Apache/"><span class="tag">Apache</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Arch-Linux/"><span class="tag">Arch Linux</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BFS/"><span class="tag">BFS</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BIT/"><span class="tag">BIT</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Bestcoder/"><span class="tag">Bestcoder</span><span class="tag">23</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Bitset/"><span class="tag">Bitset</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Bootstrap/"><span class="tag">Bootstrap</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/C/"><span class="tag">C++</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CCPC/"><span class="tag">CCPC</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Catalan/"><span class="tag">Catalan</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CentOS/"><span class="tag">CentOS</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Clover/"><span class="tag">Clover</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Compiler/"><span class="tag">Compiler</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Contest/"><span class="tag">Contest</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Cpp/"><span class="tag">Cpp</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/DFS/"><span class="tag">DFS</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/DNS/"><span class="tag">DNS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/DP/"><span class="tag">DP</span><span class="tag">13</span></a></div><div class="control"><a class="tags has-addons" href="/tags/DSDT/"><span class="tag">DSDT</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Data-Analytics/"><span class="tag">Data Analytics</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Dinic/"><span class="tag">Dinic</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Docker/"><span class="tag">Docker</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Eclipse/"><span class="tag">Eclipse</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Expect/"><span class="tag">Expect</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Fibonacci/"><span class="tag">Fibonacci</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Frontend/"><span class="tag">Frontend</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GLUT/"><span class="tag">GLUT</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GPT/"><span class="tag">GPT</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GUI/"><span class="tag">GUI</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Gentoo/"><span class="tag">Gentoo</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Geometry/"><span class="tag">Geometry</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Git/"><span class="tag">Git</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Github/"><span class="tag">Github</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Graduate/"><span class="tag">Graduate</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/HTML/"><span class="tag">HTML</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Hash/"><span class="tag">Hash</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Heap/"><span class="tag">Heap</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Interview/"><span class="tag">Interview</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JNUOJ/"><span class="tag">JNUOJ</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Java/"><span class="tag">Java</span><span class="tag">12</span></a></div><div class="control"><a class="tags has-addons" href="/tags/K8s/"><span class="tag">K8s</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/KMP/"><span class="tag">KMP</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linux/"><span class="tag">Linux</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Live-Archive/"><span class="tag">Live Archive</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MBR/"><span class="tag">MBR</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MS-DOS/"><span class="tag">MS=DOS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Mac/"><span class="tag">Mac</span><span class="tag">14</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Manhattan/"><span class="tag">Manhattan</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Multi-Uni/"><span class="tag">Multi-Uni</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MySQL/"><span class="tag">MySQL</span><span class="tag">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Mobius%E5%8F%8D%E6%BC%94/"><span class="tag">Möbius反演</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/NAS/"><span class="tag">NAS</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/NetworkFlow/"><span class="tag">NetworkFlow</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/NoSQL/"><span class="tag">NoSQL</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/OS/"><span class="tag">OS</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/OpenCV/"><span class="tag">OpenCV</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/OpenGL/"><span class="tag">OpenGL</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Python/"><span class="tag">Python</span><span class="tag">11</span></a></div><div class="control"><a class="tags has-addons" href="/tags/RMQ/"><span class="tag">RMQ</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/React/"><span class="tag">React</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Regional/"><span class="tag">Regional</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Repost/"><span class="tag">Repost</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Ryzen/"><span class="tag">Ryzen</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/SQLserver/"><span class="tag">SQLserver</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/SSL/"><span class="tag">SSL</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/System-Design/"><span class="tag">System Design</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/TOEFL/"><span class="tag">TOEFL</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Template/"><span class="tag">Template</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Tree/"><span class="tag">Tree</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Trie/"><span class="tag">Trie</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/TypeScript/"><span class="tag">TypeScript</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/UEFI/"><span class="tag">UEFI</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/UX/"><span class="tag">UX</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Ubuntu/"><span class="tag">Ubuntu</span><span class="tag">14</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Unix/"><span class="tag">Unix</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Windows/"><span class="tag">Windows</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Wordpress/"><span class="tag">Wordpress</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ZFS/"><span class="tag">ZFS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ZOJ/"><span class="tag">ZOJ</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ajax/"><span class="tag">ajax</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/asm/"><span class="tag">asm</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/css/"><span class="tag">css</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/cuda/"><span class="tag">cuda</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/cudnn/"><span class="tag">cudnn</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/curl/"><span class="tag">curl</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/docker/"><span class="tag">docker</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/es6/"><span class="tag">es6</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/font/"><span class="tag">font</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ftp/"><span class="tag">ftp</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/git/"><span class="tag">git</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/gitlab/"><span class="tag">gitlab</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/hardware/"><span class="tag">hardware</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/hdu/"><span class="tag">hdu</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/hexo/"><span class="tag">hexo</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/html/"><span class="tag">html</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/https/"><span class="tag">https</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/iOS/"><span class="tag">iOS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/interview/"><span class="tag">interview</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/java/"><span class="tag">java</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/javascript/"><span class="tag">javascript</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/jdk/"><span class="tag">jdk</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/jquery/"><span class="tag">jquery</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/js/"><span class="tag">js</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/json/"><span class="tag">json</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/kext/"><span class="tag">kext</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/macOS/"><span class="tag">macOS</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/network/"><span class="tag">network</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nginx/"><span class="tag">nginx</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/node/"><span class="tag">node</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nodejs/"><span class="tag">nodejs</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/npm/"><span class="tag">npm</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/php/"><span class="tag">php</span><span class="tag">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/python/"><span class="tag">python</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/react/"><span class="tag">react</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/react-native/"><span class="tag">react native</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/regex/"><span class="tag">regex</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/string/"><span class="tag">string</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%BA%8C%E5%88%86%E5%9B%BE/"><span class="tag">二分图</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/"><span class="tag">二分查找</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%8D%9A%E5%BC%88/"><span class="tag">博弈</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%AE%B9%E6%96%A5%E5%8E%9F%E7%90%86/"><span class="tag">容斥原理</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%B9%B6%E6%9F%A5%E9%9B%86/"><span class="tag">并查集</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%B9%B6%E8%A1%8C%E8%AE%A1%E7%AE%97/"><span class="tag">并行计算</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%BE%AE%E7%A7%AF%E5%88%86/"><span class="tag">微积分</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%89%AB%E6%8F%8F%E7%BA%BF/"><span class="tag">扫描线</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%95%B0%E5%88%97/"><span class="tag">数列</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%95%B0%E7%8B%AC/"><span class="tag">数独</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%95%B0%E8%AE%BA/"><span class="tag">数论</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%A6%82%E7%8E%87/"><span class="tag">概率</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%A8%A1%E6%8B%9F/"><span class="tag">模拟</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%AC%A7%E6%8B%89%E5%9B%9E%E8%B7%AF/"><span class="tag">欧拉回路</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%99%BE%E5%BA%A6%E4%B9%8B%E6%98%9F/"><span class="tag">百度之星</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%9F%A5%E4%B9%8E/"><span class="tag">知乎</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%A6%BB%E6%95%A3%E5%8C%96/"><span class="tag">离散化</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%BA%A6%E7%91%9F%E5%A4%AB/"><span class="tag">约瑟夫</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%BA%BF%E6%AE%B5%E6%A0%91/"><span class="tag">线段树</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%BB%84%E5%90%88%E6%95%B0%E5%AD%A6/"><span class="tag">组合数学</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%BD%91%E7%BB%9C%E8%B5%9B/"><span class="tag">网络赛</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%83%8C%E5%8C%85/"><span class="tag">背包</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98/"><span class="tag">背包问题</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%BD%AC%E8%BD%BD%E5%8D%9A%E6%96%87/"><span class="tag">转载博文</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%80%92%E5%BD%92/"><span class="tag">递归</span><span class="tag">1</span></a></div></div></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">Subscribe for updates</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile" href="http://marisa.moe/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">雾雨魔理沙</span></span><span class="level-right"><span class="level-item tag">marisa.moe</span></span></a></li><li><a class="level is-mobile" href="https://blinkfox.github.io/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">闪烁之狐</span></span><span class="level-right"><span class="level-item tag">blinkfox.github.io</span></span></a></li><li><a class="level is-mobile" href="https://phesoca.com/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">绯索卡</span></span><span class="level-right"><span class="level-item tag">phesoca.com</span></span></a></li><li><a class="level is-mobile" href="https://paperneko.moe/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">笈川伊織（紙喵）</span></span><span class="level-right"><span class="level-item tag">paperneko.moe</span></span></a></li><li><a class="level is-mobile" href="https://neko.ayaka.moe/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Ayaka Neko</span></span><span class="level-right"><span class="level-item tag">neko.ayaka.moe</span></span></a></li><li><a class="level is-mobile" href="https://blog.skk.moe/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Sukka</span></span><span class="level-right"><span class="level-item tag">blog.skk.moe</span></span></a></li><li><a class="level is-mobile" href="https://hexo.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Hexo</span></span><span class="level-right"><span class="level-item tag">hexo.io</span></span></a></li><li><a class="level is-mobile" href="https://bulma.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Bulma</span></span><span class="level-right"><span class="level-item tag">bulma.io</span></span></a></li><li><a class="level is-mobile" href="https://funactional.github.io/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Function</span></span><span class="level-right"><span class="level-item tag">funactional.github.io</span></span></a></li><li><a class="level is-mobile" href="http://www.kuangbin.net/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">kuangbin</span></span><span class="level-right"><span class="level-item tag">www.kuangbin.net</span></span></a></li><li><a class="level is-mobile" href="http://hzwer.com/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">hzwer</span></span><span class="level-right"><span class="level-item tag">hzwer.com</span></span></a></li><li><a class="level is-mobile" href="http://tsyao.tk/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">tsyao</span></span><span class="level-right"><span class="level-item tag">tsyao.tk</span></span></a></li><li><a class="level is-mobile" href="http://c.ejq.me/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">氢酱</span></span><span class="level-right"><span class="level-item tag">c.ejq.me</span></span></a></li><li><a class="level is-mobile" href="http://coderunion.github.io/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">CoderUnion</span></span><span class="level-right"><span class="level-item tag">coderunion.github.io</span></span></a></li><li><a class="level is-mobile" href="https://github.com/dangxuandev" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">当轩</span></span><span class="level-right"><span class="level-item tag">github.com</span></span></a></li><li><a class="level is-mobile" href="https://zhuanlan.zhihu.com/simplyy" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">SimplyY</span></span><span class="level-right"><span class="level-item tag">zhuanlan.zhihu.com</span></span></a></li><li><a class="level is-mobile" href="http://blog.xen0n.name/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">xen0n</span></span><span class="level-right"><span class="level-item tag">blog.xen0n.name</span></span></a></li><li><a class="level is-mobile" href="https://github.com/NaturalL" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">NaturalL</span></span><span class="level-right"><span class="level-item tag">github.com</span></span></a></li><li><a class="level is-mobile" href="https://huaji8.top/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">幻想帖</span></span><span class="level-right"><span class="level-item tag">huaji8.top</span></span></a></li><li><a class="level is-mobile" href="https://otakism.com/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">宅談</span></span><span class="level-right"><span class="level-item tag">otakism.com</span></span></a></li><li><a class="level is-mobile" href="https://liyin.date/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">天空之间</span></span><span class="level-right"><span class="level-item tag">liyin.date</span></span></a></li></ul></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="CitruXonve&#039;s another far end" height="28"></a><p class="is-size-7"><span>&copy; 2025 CitruXonve</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Icarus Theme on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script data-pjax src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script data-pjax src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><script type="text/javascript" id="MathJax-script" async>MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      },
      chtml: {
        matchFontHeight: false
      }
    };</script><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js"></script><!--!--><!--!--><!--!--><script data-pjax src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script data-pjax src="/js/insight.js" defer></script><script data-pjax>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>